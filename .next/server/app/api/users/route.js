"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/users/route";
exports.ids = ["app/api/users/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("pg");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Froute&page=%2Fapi%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Froute.ts&appDir=c%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=c%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Froute&page=%2Fapi%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Froute.ts&appDir=c%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=c%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var c_Users_user_OneDrive_Desktop_Simbi_Seller_app_api_users_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/users/route.ts */ \"(rsc)/./app/api/users/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/users/route\",\n        pathname: \"/api/users\",\n        filename: \"route\",\n        bundlePath: \"app/api/users/route\"\n    },\n    resolvedPagePath: \"c:\\\\Users\\\\user\\\\OneDrive\\\\Desktop\\\\Simbi-Seller\\\\app\\\\api\\\\users\\\\route.ts\",\n    nextConfigOutput,\n    userland: c_Users_user_OneDrive_Desktop_Simbi_Seller_app_api_users_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/users/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ1c2VycyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdXNlcnMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ1c2VycyUyRnJvdXRlLnRzJmFwcERpcj1jJTNBJTVDVXNlcnMlNUN1c2VyJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDU2ltYmktU2VsbGVyJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1jJTNBJTVDVXNlcnMlNUN1c2VyJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDU2ltYmktU2VsbGVyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUMyQjtBQUN4RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3NpbWJpLXNlbGxlci1kYXNoYm9hcmQvPzU3YmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiYzpcXFxcVXNlcnNcXFxcdXNlclxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXFNpbWJpLVNlbGxlclxcXFxhcHBcXFxcYXBpXFxcXHVzZXJzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS91c2Vycy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VzZXJzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS91c2Vycy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcImM6XFxcXFVzZXJzXFxcXHVzZXJcXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxTaW1iaS1TZWxsZXJcXFxcYXBwXFxcXGFwaVxcXFx1c2Vyc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvdXNlcnMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Froute&page=%2Fapi%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Froute.ts&appDir=c%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=c%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/users/route.ts":
/*!********************************!*\
  !*** ./app/api/users/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/database */ \"(rsc)/./src/lib/database.ts\");\n\n\nasync function GET(req) {\n    const url = new URL(req.url);\n    const uid = url.searchParams.get(\"uid\");\n    const test = url.searchParams.get(\"test\");\n    try {\n        // Health check endpoint\n        if (test === \"1\") {\n            const connectionTest = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.testDatabaseConnection)();\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                database: connectionTest.success ? \"connected\" : \"disconnected\",\n                message: connectionTest.message,\n                timestamp: new Date().toISOString()\n            });\n        }\n        // Test database connection first\n        const connectionTest = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.testDatabaseConnection)();\n        if (!connectionTest.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Database connection failed\",\n                details: connectionTest.message,\n                fallback: \"Using localStorage mode\"\n            }, {\n                status: 503\n            });\n        }\n        if (uid) {\n            const user = await _lib_database__WEBPACK_IMPORTED_MODULE_1__.userOperations.getUser(uid);\n            if (user) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    user: {\n                        uid: user.uid,\n                        email: user.email,\n                        displayName: user.display_name,\n                        storeName: user.store_name,\n                        phoneNumber: user.phone_number,\n                        nationalId: user.national_id,\n                        businessOwnerName: user.business_owner_name,\n                        businessOwnerEmail: user.business_owner_email,\n                        businessOwnerPhone: user.business_owner_phone,\n                        storeCountry: user.store_country,\n                        storeCity: user.store_city,\n                        storeAddress1: user.store_address1,\n                        storeAddress2: user.store_address2,\n                        postalCode: user.postal_code,\n                        vatNumber: user.vat_number,\n                        createdAt: user.created_at,\n                        updatedAt: user.updated_at\n                    }\n                });\n            } else {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    user: null,\n                    message: \"User not found in database\"\n                });\n            }\n        }\n        // Return empty array if no uid specified\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            users: []\n        });\n    } catch (error) {\n        console.error(\"Database query error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Database query failed\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        if (!body || !body.uid || !body.email) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing required fields: uid and email\"\n            }, {\n                status: 400\n            });\n        }\n        // Test database connection first\n        const connectionTest = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.testDatabaseConnection)();\n        if (!connectionTest.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Database connection failed\",\n                details: connectionTest.message,\n                fallback: \"Please use localStorage mode for now\"\n            }, {\n                status: 503\n            });\n        }\n        // Create or update user in database\n        const user = await _lib_database__WEBPACK_IMPORTED_MODULE_1__.userOperations.createOrUpdateUser({\n            uid: body.uid,\n            email: body.email,\n            displayName: body.displayName,\n            storeName: body.storeName,\n            phoneNumber: body.phoneNumber,\n            nationalId: body.nationalId,\n            businessOwnerName: body.businessOwnerName,\n            businessOwnerEmail: body.businessOwnerEmail,\n            businessOwnerPhone: body.businessOwnerPhone,\n            storeCountry: body.storeCountry,\n            storeCity: body.storeCity,\n            storeAddress1: body.storeAddress1,\n            storeAddress2: body.storeAddress2,\n            postalCode: body.postalCode,\n            vatNumber: body.vatNumber\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            user: {\n                uid: user.uid,\n                email: user.email,\n                displayName: user.display_name,\n                storeName: user.store_name,\n                phoneNumber: user.phone_number,\n                nationalId: user.national_id,\n                businessOwnerName: user.business_owner_name,\n                businessOwnerEmail: user.business_owner_email,\n                businessOwnerPhone: user.business_owner_phone,\n                storeCountry: user.store_country,\n                storeCity: user.store_city,\n                storeAddress1: user.store_address1,\n                storeAddress2: user.store_address2,\n                postalCode: user.postal_code,\n                vatNumber: user.vat_number,\n                createdAt: user.created_at,\n                updatedAt: user.updated_at\n            }\n        });\n    } catch (error) {\n        console.error(\"Database operation error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Database operation failed\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFvQmIsS0FBS2Msb0JBQW9CO2dCQUM3Q0Msb0JBQW9CZixLQUFLZ0Isb0JBQW9CO2dCQUM3Q0MsY0FBY2pCLEtBQUtrQixhQUFhO2dCQUNoQ0MsV0FBV25CLEtBQUtvQixVQUFVO2dCQUMxQkMsZUFBZXJCLEtBQUtzQixjQUFjO2dCQUNsQ0MsZUFBZXZCLEtBQUt3QixjQUFjO2dCQUNsQ0MsWUFBWXpCLEtBQUswQixXQUFXO2dCQUM1QkMsV0FBVzNCLEtBQUs0QixVQUFVO2dCQUMxQkMsV0FBVzdCLEtBQUs4QixVQUFVO2dCQUMxQkMsV0FBVy9CLEtBQUtnQyxVQUFVO1lBQzVCO1FBQ0Y7SUFDRixFQUFFLE9BQU9wQyxPQUFZO1FBQ25Cc0MsUUFBUXRDLEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE9BQU9uQixxREFBWUEsQ0FBQ1ksSUFBSSxDQUFDO1lBQ3ZCTyxPQUFPO1lBQ1BDLFNBQVNELE1BQU1KLE9BQU87UUFDeEIsR0FBRztZQUFFTyxRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3NpbWJpLXNlbGxlci1kYXNoYm9hcmQvLi9hcHAvYXBpL3VzZXJzL3JvdXRlLnRzPzdmYjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgdXNlck9wZXJhdGlvbnMsIHRlc3REYXRhYmFzZUNvbm5lY3Rpb24gfSBmcm9tICdAL2xpYi9kYXRhYmFzZSc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxOiBSZXF1ZXN0KSB7XG4gIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxLnVybCk7XG4gIGNvbnN0IHVpZCA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCd1aWQnKTtcbiAgY29uc3QgdGVzdCA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCd0ZXN0Jyk7XG5cbiAgdHJ5IHtcbiAgICAvLyBIZWFsdGggY2hlY2sgZW5kcG9pbnRcbiAgICBpZiAodGVzdCA9PT0gJzEnKSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uVGVzdCA9IGF3YWl0IHRlc3REYXRhYmFzZUNvbm5lY3Rpb24oKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIGRhdGFiYXNlOiBjb25uZWN0aW9uVGVzdC5zdWNjZXNzID8gJ2Nvbm5lY3RlZCcgOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgICAgbWVzc2FnZTogY29ubmVjdGlvblRlc3QubWVzc2FnZSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFRlc3QgZGF0YWJhc2UgY29ubmVjdGlvbiBmaXJzdFxuICAgIGNvbnN0IGNvbm5lY3Rpb25UZXN0ID0gYXdhaXQgdGVzdERhdGFiYXNlQ29ubmVjdGlvbigpO1xuICAgIGlmICghY29ubmVjdGlvblRlc3Quc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgZXJyb3I6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcsXG4gICAgICAgIGRldGFpbHM6IGNvbm5lY3Rpb25UZXN0Lm1lc3NhZ2UsXG4gICAgICAgIGZhbGxiYWNrOiAnVXNpbmcgbG9jYWxTdG9yYWdlIG1vZGUnXG4gICAgICB9LCB7IHN0YXR1czogNTAzIH0pO1xuICAgIH1cblxuICAgIGlmICh1aWQpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyT3BlcmF0aW9ucy5nZXRVc2VyKHVpZCk7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgIHVpZDogdXNlci51aWQsXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlfbmFtZSxcbiAgICAgICAgICAgIHN0b3JlTmFtZTogdXNlci5zdG9yZV9uYW1lLFxuICAgICAgICAgICAgcGhvbmVOdW1iZXI6IHVzZXIucGhvbmVfbnVtYmVyLFxuICAgICAgICAgICAgbmF0aW9uYWxJZDogdXNlci5uYXRpb25hbF9pZCxcbiAgICAgICAgICAgIGJ1c2luZXNzT3duZXJOYW1lOiB1c2VyLmJ1c2luZXNzX293bmVyX25hbWUsXG4gICAgICAgICAgICBidXNpbmVzc093bmVyRW1haWw6IHVzZXIuYnVzaW5lc3Nfb3duZXJfZW1haWwsXG4gICAgICAgICAgICBidXNpbmVzc093bmVyUGhvbmU6IHVzZXIuYnVzaW5lc3Nfb3duZXJfcGhvbmUsXG4gICAgICAgICAgICBzdG9yZUNvdW50cnk6IHVzZXIuc3RvcmVfY291bnRyeSxcbiAgICAgICAgICAgIHN0b3JlQ2l0eTogdXNlci5zdG9yZV9jaXR5LFxuICAgICAgICAgICAgc3RvcmVBZGRyZXNzMTogdXNlci5zdG9yZV9hZGRyZXNzMSxcbiAgICAgICAgICAgIHN0b3JlQWRkcmVzczI6IHVzZXIuc3RvcmVfYWRkcmVzczIsXG4gICAgICAgICAgICBwb3N0YWxDb2RlOiB1c2VyLnBvc3RhbF9jb2RlLFxuICAgICAgICAgICAgdmF0TnVtYmVyOiB1c2VyLnZhdF9udW1iZXIsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IHVzZXIuY3JlYXRlZF9hdCxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogdXNlci51cGRhdGVkX2F0XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgICAgICBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQgaW4gZGF0YWJhc2UnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBlbXB0eSBhcnJheSBpZiBubyB1aWQgc3BlY2lmaWVkXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgdXNlcnM6IFtdIH0pO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgcXVlcnkgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBlcnJvcjogJ0RhdGFiYXNlIHF1ZXJ5IGZhaWxlZCcsXG4gICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgICBpZiAoIWJvZHkgfHwgIWJvZHkudWlkIHx8ICFib2R5LmVtYWlsKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBlcnJvcjogJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzOiB1aWQgYW5kIGVtYWlsJ1xuICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICAvLyBUZXN0IGRhdGFiYXNlIGNvbm5lY3Rpb24gZmlyc3RcbiAgICBjb25zdCBjb25uZWN0aW9uVGVzdCA9IGF3YWl0IHRlc3REYXRhYmFzZUNvbm5lY3Rpb24oKTtcbiAgICBpZiAoIWNvbm5lY3Rpb25UZXN0LnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIGVycm9yOiAnRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnLFxuICAgICAgICBkZXRhaWxzOiBjb25uZWN0aW9uVGVzdC5tZXNzYWdlLFxuICAgICAgICBmYWxsYmFjazogJ1BsZWFzZSB1c2UgbG9jYWxTdG9yYWdlIG1vZGUgZm9yIG5vdydcbiAgICAgIH0sIHsgc3RhdHVzOiA1MDMgfSk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG9yIHVwZGF0ZSB1c2VyIGluIGRhdGFiYXNlXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHVzZXJPcGVyYXRpb25zLmNyZWF0ZU9yVXBkYXRlVXNlcih7XG4gICAgICB1aWQ6IGJvZHkudWlkLFxuICAgICAgZW1haWw6IGJvZHkuZW1haWwsXG4gICAgICBkaXNwbGF5TmFtZTogYm9keS5kaXNwbGF5TmFtZSxcbiAgICAgIHN0b3JlTmFtZTogYm9keS5zdG9yZU5hbWUsXG4gICAgICBwaG9uZU51bWJlcjogYm9keS5waG9uZU51bWJlcixcbiAgICAgIG5hdGlvbmFsSWQ6IGJvZHkubmF0aW9uYWxJZCxcbiAgICAgIGJ1c2luZXNzT3duZXJOYW1lOiBib2R5LmJ1c2luZXNzT3duZXJOYW1lLFxuICAgICAgYnVzaW5lc3NPd25lckVtYWlsOiBib2R5LmJ1c2luZXNzT3duZXJFbWFpbCxcbiAgICAgIGJ1c2luZXNzT3duZXJQaG9uZTogYm9keS5idXNpbmVzc093bmVyUGhvbmUsXG4gICAgICBzdG9yZUNvdW50cnk6IGJvZHkuc3RvcmVDb3VudHJ5LFxuICAgICAgc3RvcmVDaXR5OiBib2R5LnN0b3JlQ2l0eSxcbiAgICAgIHN0b3JlQWRkcmVzczE6IGJvZHkuc3RvcmVBZGRyZXNzMSxcbiAgICAgIHN0b3JlQWRkcmVzczI6IGJvZHkuc3RvcmVBZGRyZXNzMixcbiAgICAgIHBvc3RhbENvZGU6IGJvZHkucG9zdGFsQ29kZSxcbiAgICAgIHZhdE51bWJlcjogYm9keS52YXROdW1iZXIsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHVzZXI6IHtcbiAgICAgICAgdWlkOiB1c2VyLnVpZCxcbiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlfbmFtZSxcbiAgICAgICAgc3RvcmVOYW1lOiB1c2VyLnN0b3JlX25hbWUsXG4gICAgICAgIHBob25lTnVtYmVyOiB1c2VyLnBob25lX251bWJlcixcbiAgICAgICAgbmF0aW9uYWxJZDogdXNlci5uYXRpb25hbF9pZCxcbiAgICAgICAgYnVzaW5lc3NPd25lck5hbWU6IHVzZXIuYnVzaW5lc3Nfb3duZXJfbmFtZSxcbiAgICAgICAgYnVzaW5lc3NPd25lckVtYWlsOiB1c2VyLmJ1c2luZXNzX293bmVyX2VtYWlsLFxuICAgICAgICBidXNpbmVzc093bmVyUGhvbmU6IHVzZXIuYnVzaW5lc3Nfb3duZXJfcGhvbmUsXG4gICAgICAgIHN0b3JlQ291bnRyeTogdXNlci5zdG9yZV9jb3VudHJ5LFxuICAgICAgICBzdG9yZUNpdHk6IHVzZXIuc3RvcmVfY2l0eSxcbiAgICAgICAgc3RvcmVBZGRyZXNzMTogdXNlci5zdG9yZV9hZGRyZXNzMSxcbiAgICAgICAgc3RvcmVBZGRyZXNzMjogdXNlci5zdG9yZV9hZGRyZXNzMixcbiAgICAgICAgcG9zdGFsQ29kZTogdXNlci5wb3N0YWxfY29kZSxcbiAgICAgICAgdmF0TnVtYmVyOiB1c2VyLnZhdF9udW1iZXIsXG4gICAgICAgIGNyZWF0ZWRBdDogdXNlci5jcmVhdGVkX2F0LFxuICAgICAgICB1cGRhdGVkQXQ6IHVzZXIudXBkYXRlZF9hdFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRGF0YWJhc2Ugb3BlcmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgZXJyb3I6ICdEYXRhYmFzZSBvcGVyYXRpb24gZmFpbGVkJyxcbiAgICAgIGRldGFpbHM6IGVycm9yLm1lc3NhZ2VcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwidXNlck9wZXJhdGlvbnMiLCJ0ZXN0RGF0YWJhc2VDb25uZWN0aW9uIiwiR0VUIiwicmVxIiwidXJsIiwiVVJMIiwidWlkIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwidGVzdCIsImNvbm5lY3Rpb25UZXN0IiwianNvbiIsImRhdGFiYXNlIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJlcnJvciIsImRldGFpbHMiLCJmYWxsYmFjayIsInN0YXR1cyIsInVzZXIiLCJnZXRVc2VyIiwiZW1haWwiLCJkaXNwbGF5TmFtZSIsImRpc3BsYXlfbmFtZSIsInN0b3JlTmFtZSIsInN0b3JlX25hbWUiLCJwaG9uZU51bWJlciIsInBob25lX251bWJlciIsIm5hdGlvbmFsSWQiLCJuYXRpb25hbF9pZCIsImJ1c2luZXNzT3duZXJOYW1lIiwiYnVzaW5lc3Nfb3duZXJfbmFtZSIsImJ1c2luZXNzT3duZXJFbWFpbCIsImJ1c2luZXNzX293bmVyX2VtYWlsIiwiYnVzaW5lc3NPd25lclBob25lIiwiYnVzaW5lc3Nfb3duZXJfcGhvbmUiLCJzdG9yZUNvdW50cnkiLCJzdG9yZV9jb3VudHJ5Iiwic3RvcmVDaXR5Iiwic3RvcmVfY2l0eSIsInN0b3JlQWRkcmVzczEiLCJzdG9yZV9hZGRyZXNzMSIsInN0b3JlQWRkcmVzczIiLCJzdG9yZV9hZGRyZXNzMiIsInBvc3RhbENvZGUiLCJwb3N0YWxfY29kZSIsInZhdE51bWJlciIsInZhdF9udW1iZXIiLCJjcmVhdGVkQXQiLCJjcmVhdGVkX2F0IiwidXBkYXRlZEF0IiwidXBkYXRlZF9hdCIsInVzZXJzIiwiY29uc29sZSIsIlBPU1QiLCJib2R5IiwiY3JlYXRlT3JVcGRhdGVVc2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/users/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/database.ts":
/*!*****************************!*\
  !*** ./src/lib/database.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbPool: () => (/* binding */ dbPool),\n/* harmony export */   healthCheck: () => (/* binding */ healthCheck),\n/* harmony export */   testDatabaseConnection: () => (/* binding */ testDatabaseConnection),\n/* harmony export */   userOperations: () => (/* binding */ userOperations)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pg__WEBPACK_IMPORTED_MODULE_0__);\n\nconst DATABASE_URL = process.env.DATABASE_URL;\nif (!DATABASE_URL) {\n    throw new Error(\"DATABASE_URL environment variable is required\");\n}\n// Production-ready connection pool with optimized settings\nconst dbPool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n    connectionString: DATABASE_URL,\n    max: 20,\n    idleTimeoutMillis: 30000,\n    connectionTimeoutMillis: 15000,\n    ssl: {\n        rejectUnauthorized: false\n    },\n    // Neon-specific optimizations\n    keepAlive: true,\n    keepAliveInitialDelayMillis: 0\n});\n// Test database connection with retry logic\nasync function testDatabaseConnection(retries = 3) {\n    let client;\n    let attempt = 0;\n    while(attempt < retries){\n        try {\n            client = await dbPool.connect();\n            console.log(`✅ Database connection successful (attempt ${attempt + 1})`);\n            // Test with a simple query\n            await client.query(\"SELECT 1\");\n            console.log(\"✅ Database query test passed\");\n            // Ensure users table exists with production schema\n            await client.query(`\r\n        CREATE TABLE IF NOT EXISTS users (\r\n          uid TEXT PRIMARY KEY,\r\n          email TEXT UNIQUE NOT NULL,\r\n          display_name TEXT,\r\n          store_name TEXT,\r\n          phone_number TEXT,\r\n          national_id TEXT,\r\n          business_owner_name TEXT,\r\n          business_owner_email TEXT,\r\n          business_owner_phone TEXT,\r\n          store_country TEXT,\r\n          store_city TEXT,\r\n          store_address1 TEXT,\r\n          store_address2 TEXT,\r\n          postal_code TEXT,\r\n          vat_number TEXT,\r\n          profile_json JSONB,\r\n          created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\r\n          updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\r\n        );\r\n      `);\n            // Create indexes for better performance\n            await client.query(`\r\n        CREATE INDEX IF NOT EXISTS idx_users_email ON users(email);\r\n        CREATE INDEX IF NOT EXISTS idx_users_store_name ON users(store_name);\r\n        CREATE INDEX IF NOT EXISTS idx_users_created_at ON users(created_at);\r\n      `);\n            console.log(\"✅ Users table and indexes ready\");\n            return {\n                success: true,\n                message: \"Database connected successfully\"\n            };\n        } catch (error) {\n            attempt++;\n            console.error(`❌ Database connection attempt ${attempt} failed:`, error.message);\n            if (attempt >= retries) {\n                return {\n                    success: false,\n                    message: `Database connection failed after ${retries} attempts: ${error.message}`\n                };\n            }\n            // Wait before retry (exponential backoff)\n            await new Promise((resolve)=>setTimeout(resolve, Math.pow(2, attempt) * 1000));\n        } finally{\n            if (client) client.release();\n        }\n    }\n    return {\n        success: false,\n        message: \"Database connection failed\"\n    };\n}\n// Production-ready user operations with error handling\nconst userOperations = {\n    async createOrUpdateUser (userData) {\n        const client = await dbPool.connect();\n        try {\n            const query = `\r\n        INSERT INTO users (\r\n          uid, email, display_name, store_name, phone_number, national_id,\r\n          business_owner_name, business_owner_email, business_owner_phone,\r\n          store_country, store_city, store_address1, store_address2,\r\n          postal_code, vat_number, profile_json, updated_at\r\n        ) VALUES (\r\n          $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, NOW()\r\n        )\r\n        ON CONFLICT (uid) DO UPDATE SET\r\n          email = EXCLUDED.email,\r\n          display_name = EXCLUDED.display_name,\r\n          store_name = EXCLUDED.store_name,\r\n          phone_number = EXCLUDED.phone_number,\r\n          national_id = EXCLUDED.national_id,\r\n          business_owner_name = EXCLUDED.business_owner_name,\r\n          business_owner_email = EXCLUDED.business_owner_email,\r\n          business_owner_phone = EXCLUDED.business_owner_phone,\r\n          store_country = EXCLUDED.store_country,\r\n          store_city = EXCLUDED.store_city,\r\n          store_address1 = EXCLUDED.store_address1,\r\n          store_address2 = EXCLUDED.store_address2,\r\n          postal_code = EXCLUDED.postal_code,\r\n          vat_number = EXCLUDED.vat_number,\r\n          profile_json = EXCLUDED.profile_json,\r\n          updated_at = NOW()\r\n        RETURNING *;\r\n      `;\n            const values = [\n                userData.uid,\n                userData.email,\n                userData.displayName || null,\n                userData.storeName || null,\n                userData.phoneNumber || null,\n                userData.nationalId || null,\n                userData.businessOwnerName || null,\n                userData.businessOwnerEmail || null,\n                userData.businessOwnerPhone || null,\n                userData.storeCountry || null,\n                userData.storeCity || null,\n                userData.storeAddress1 || null,\n                userData.storeAddress2 || null,\n                userData.postalCode || null,\n                userData.vatNumber || null,\n                JSON.stringify(userData)\n            ];\n            const result = await client.query(query, values);\n            console.log(\"✅ User data saved to database:\", userData.uid);\n            return result.rows[0];\n        } catch (error) {\n            console.error(\"❌ Database operation failed:\", error);\n            throw new Error(`Failed to save user data: ${error.message}`);\n        } finally{\n            client.release();\n        }\n    },\n    async getUser (uid) {\n        const client = await dbPool.connect();\n        try {\n            const result = await client.query(\"SELECT * FROM users WHERE uid = $1\", [\n                uid\n            ]);\n            const user = result.rows[0] || null;\n            if (user) {\n                console.log(\"✅ User data retrieved from database:\", uid);\n            } else {\n                console.log(\"ℹ️ No user found in database:\", uid);\n            }\n            return user;\n        } catch (error) {\n            console.error(\"❌ Database query failed:\", error);\n            throw new Error(`Failed to retrieve user data: ${error.message}`);\n        } finally{\n            client.release();\n        }\n    },\n    async getUserByEmail (email) {\n        const client = await dbPool.connect();\n        try {\n            const result = await client.query(\"SELECT * FROM users WHERE email = $1\", [\n                email\n            ]);\n            return result.rows[0] || null;\n        } catch (error) {\n            console.error(\"❌ Database query failed:\", error);\n            throw new Error(`Failed to retrieve user by email: ${error.message}`);\n        } finally{\n            client.release();\n        }\n    },\n    async deleteUser (uid) {\n        const client = await dbPool.connect();\n        try {\n            const result = await client.query(\"DELETE FROM users WHERE uid = $1 RETURNING *\", [\n                uid\n            ]);\n            console.log(\"✅ User deleted from database:\", uid);\n            return result.rows[0] || null;\n        } catch (error) {\n            console.error(\"❌ Database delete failed:\", error);\n            throw new Error(`Failed to delete user: ${error.message}`);\n        } finally{\n            client.release();\n        }\n    }\n};\n// Health check function for monitoring\nasync function healthCheck() {\n    try {\n        const connectionTest = await testDatabaseConnection(1);\n        return {\n            database: connectionTest.success ? \"healthy\" : \"unhealthy\",\n            timestamp: new Date().toISOString(),\n            message: connectionTest.message\n        };\n    } catch (error) {\n        return {\n            database: \"unhealthy\",\n            timestamp: new Date().toISOString(),\n            message: error.message\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLDRCQUE0QkE7WUFDMUMsTUFBTSxJQUFJcEIsTUFBTSxDQUFDLGtDQUFrQyxFQUFFb0IsTUFBTUQsT0FBTyxDQUFDLENBQUM7UUFDdEUsU0FBVTtZQUNSUCxPQUFPYyxPQUFPO1FBQ2hCO0lBQ0Y7SUFFQSxNQUFNMkIsWUFBV3RCLEdBQVc7UUFDMUIsTUFBTW5CLFNBQVMsTUFBTVgsT0FBT2EsT0FBTztRQUNuQyxJQUFJO1lBQ0YsTUFBTWtDLFNBQVMsTUFBTXBDLE9BQU9LLEtBQUssQ0FBQyxnREFBZ0Q7Z0JBQUNjO2FBQUk7WUFDdkZoQixRQUFRQyxHQUFHLENBQUMsaUNBQWlDZTtZQUM3QyxPQUFPaUIsT0FBT0MsSUFBSSxDQUFDLEVBQUUsSUFBSTtRQUMzQixFQUFFLE9BQU83QixPQUFZO1lBQ25CTCxRQUFRSyxLQUFLLENBQUMsNkJBQTZCQTtZQUMzQyxNQUFNLElBQUlwQixNQUFNLENBQUMsdUJBQXVCLEVBQUVvQixNQUFNRCxPQUFPLENBQUMsQ0FBQztRQUMzRCxTQUFVO1lBQ1JQLE9BQU9jLE9BQU87UUFDaEI7SUFDRjtBQUNGLEVBQUU7QUFFRix1Q0FBdUM7QUFDaEMsZUFBZTRCO0lBQ3BCLElBQUk7UUFDRixNQUFNQyxpQkFBaUIsTUFBTTdDLHVCQUF1QjtRQUNwRCxPQUFPO1lBQ0w4QyxVQUFVRCxlQUFlckMsT0FBTyxHQUFHLFlBQVk7WUFDL0N1QyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7WUFDakN4QyxTQUFTb0MsZUFBZXBDLE9BQU87UUFDakM7SUFDRixFQUFFLE9BQU9DLE9BQVk7UUFDbkIsT0FBTztZQUNMb0MsVUFBVTtZQUNWQyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7WUFDakN4QyxTQUFTQyxNQUFNRCxPQUFPO1FBQ3hCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3NpbWJpLXNlbGxlci1kYXNoYm9hcmQvLi9zcmMvbGliL2RhdGFiYXNlLnRzP2MxYjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUG9vbCB9IGZyb20gJ3BnJztcclxuXHJcbmNvbnN0IERBVEFCQVNFX1VSTCA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTDtcclxuXHJcbmlmICghREFUQUJBU0VfVVJMKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdEQVRBQkFTRV9VUkwgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgcmVxdWlyZWQnKTtcclxufVxyXG5cclxuLy8gUHJvZHVjdGlvbi1yZWFkeSBjb25uZWN0aW9uIHBvb2wgd2l0aCBvcHRpbWl6ZWQgc2V0dGluZ3NcclxuZXhwb3J0IGNvbnN0IGRiUG9vbCA9IG5ldyBQb29sKHtcclxuICBjb25uZWN0aW9uU3RyaW5nOiBEQVRBQkFTRV9VUkwsXHJcbiAgbWF4OiAyMCwgLy8gQWxsb3cgbW9yZSBjb25uZWN0aW9ucyBmb3IgcHJvZHVjdGlvblxyXG4gIGlkbGVUaW1lb3V0TWlsbGlzOiAzMDAwMCxcclxuICBjb25uZWN0aW9uVGltZW91dE1pbGxpczogMTUwMDAsIC8vIEluY3JlYXNlZCB0aW1lb3V0IGZvciBOZW9uXHJcbiAgc3NsOiB7XHJcbiAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlLCAvLyBSZXF1aXJlZCBmb3IgTmVvbiBQb3N0Z3JlU1FMXHJcbiAgfSxcclxuICAvLyBOZW9uLXNwZWNpZmljIG9wdGltaXphdGlvbnNcclxuICBrZWVwQWxpdmU6IHRydWUsXHJcbiAga2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzOiAwLFxyXG59KTtcclxuXHJcbi8vIFRlc3QgZGF0YWJhc2UgY29ubmVjdGlvbiB3aXRoIHJldHJ5IGxvZ2ljXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0ZXN0RGF0YWJhc2VDb25uZWN0aW9uKHJldHJpZXMgPSAzKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiB7XHJcbiAgbGV0IGNsaWVudDtcclxuICBsZXQgYXR0ZW1wdCA9IDA7XHJcblxyXG4gIHdoaWxlIChhdHRlbXB0IDwgcmV0cmllcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY2xpZW50ID0gYXdhaXQgZGJQb29sLmNvbm5lY3QoKTtcclxuICAgICAgY29uc29sZS5sb2coYOKchSBEYXRhYmFzZSBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwgKGF0dGVtcHQgJHthdHRlbXB0ICsgMX0pYCk7XHJcblxyXG4gICAgICAvLyBUZXN0IHdpdGggYSBzaW1wbGUgcXVlcnlcclxuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KCdTRUxFQ1QgMScpO1xyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIHF1ZXJ5IHRlc3QgcGFzc2VkJyk7XHJcblxyXG4gICAgICAvLyBFbnN1cmUgdXNlcnMgdGFibGUgZXhpc3RzIHdpdGggcHJvZHVjdGlvbiBzY2hlbWFcclxuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KGBcclxuICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyB1c2VycyAoXHJcbiAgICAgICAgICB1aWQgVEVYVCBQUklNQVJZIEtFWSxcclxuICAgICAgICAgIGVtYWlsIFRFWFQgVU5JUVVFIE5PVCBOVUxMLFxyXG4gICAgICAgICAgZGlzcGxheV9uYW1lIFRFWFQsXHJcbiAgICAgICAgICBzdG9yZV9uYW1lIFRFWFQsXHJcbiAgICAgICAgICBwaG9uZV9udW1iZXIgVEVYVCxcclxuICAgICAgICAgIG5hdGlvbmFsX2lkIFRFWFQsXHJcbiAgICAgICAgICBidXNpbmVzc19vd25lcl9uYW1lIFRFWFQsXHJcbiAgICAgICAgICBidXNpbmVzc19vd25lcl9lbWFpbCBURVhULFxyXG4gICAgICAgICAgYnVzaW5lc3Nfb3duZXJfcGhvbmUgVEVYVCxcclxuICAgICAgICAgIHN0b3JlX2NvdW50cnkgVEVYVCxcclxuICAgICAgICAgIHN0b3JlX2NpdHkgVEVYVCxcclxuICAgICAgICAgIHN0b3JlX2FkZHJlc3MxIFRFWFQsXHJcbiAgICAgICAgICBzdG9yZV9hZGRyZXNzMiBURVhULFxyXG4gICAgICAgICAgcG9zdGFsX2NvZGUgVEVYVCxcclxuICAgICAgICAgIHZhdF9udW1iZXIgVEVYVCxcclxuICAgICAgICAgIHByb2ZpbGVfanNvbiBKU09OQixcclxuICAgICAgICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIFdJVEggVElNRSBaT05FIERFRkFVTFQgTk9XKCksXHJcbiAgICAgICAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBXSVRIIFRJTUUgWk9ORSBERUZBVUxUIE5PVygpXHJcbiAgICAgICAgKTtcclxuICAgICAgYCk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgaW5kZXhlcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXHJcbiAgICAgIGF3YWl0IGNsaWVudC5xdWVyeShgXHJcbiAgICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X3VzZXJzX2VtYWlsIE9OIHVzZXJzKGVtYWlsKTtcclxuICAgICAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfdXNlcnNfc3RvcmVfbmFtZSBPTiB1c2VycyhzdG9yZV9uYW1lKTtcclxuICAgICAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfdXNlcnNfY3JlYXRlZF9hdCBPTiB1c2VycyhjcmVhdGVkX2F0KTtcclxuICAgICAgYCk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFVzZXJzIHRhYmxlIGFuZCBpbmRleGVzIHJlYWR5Jyk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5JyB9O1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgYXR0ZW1wdCsrO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgRGF0YWJhc2UgY29ubmVjdGlvbiBhdHRlbXB0ICR7YXR0ZW1wdH0gZmFpbGVkOmAsIGVycm9yLm1lc3NhZ2UpO1xyXG5cclxuICAgICAgaWYgKGF0dGVtcHQgPj0gcmV0cmllcykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIG1lc3NhZ2U6IGBEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCBhZnRlciAke3JldHJpZXN9IGF0dGVtcHRzOiAke2Vycm9yLm1lc3NhZ2V9YFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFdhaXQgYmVmb3JlIHJldHJ5IChleHBvbmVudGlhbCBiYWNrb2ZmKVxyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgTWF0aC5wb3coMiwgYXR0ZW1wdCkgKiAxMDAwKSk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBpZiAoY2xpZW50KSBjbGllbnQucmVsZWFzZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcgfTtcclxufVxyXG5cclxuLy8gUHJvZHVjdGlvbi1yZWFkeSB1c2VyIG9wZXJhdGlvbnMgd2l0aCBlcnJvciBoYW5kbGluZ1xyXG5leHBvcnQgY29uc3QgdXNlck9wZXJhdGlvbnMgPSB7XHJcbiAgYXN5bmMgY3JlYXRlT3JVcGRhdGVVc2VyKHVzZXJEYXRhOiB7XHJcbiAgICB1aWQ6IHN0cmluZztcclxuICAgIGVtYWlsOiBzdHJpbmc7XHJcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZztcclxuICAgIHN0b3JlTmFtZT86IHN0cmluZztcclxuICAgIHBob25lTnVtYmVyPzogc3RyaW5nO1xyXG4gICAgbmF0aW9uYWxJZD86IHN0cmluZztcclxuICAgIGJ1c2luZXNzT3duZXJOYW1lPzogc3RyaW5nO1xyXG4gICAgYnVzaW5lc3NPd25lckVtYWlsPzogc3RyaW5nO1xyXG4gICAgYnVzaW5lc3NPd25lclBob25lPzogc3RyaW5nO1xyXG4gICAgc3RvcmVDb3VudHJ5Pzogc3RyaW5nO1xyXG4gICAgc3RvcmVDaXR5Pzogc3RyaW5nO1xyXG4gICAgc3RvcmVBZGRyZXNzMT86IHN0cmluZztcclxuICAgIHN0b3JlQWRkcmVzczI/OiBzdHJpbmc7XHJcbiAgICBwb3N0YWxDb2RlPzogc3RyaW5nO1xyXG4gICAgdmF0TnVtYmVyPzogc3RyaW5nO1xyXG4gIH0pIHtcclxuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGRiUG9vbC5jb25uZWN0KCk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBxdWVyeSA9IGBcclxuICAgICAgICBJTlNFUlQgSU5UTyB1c2VycyAoXHJcbiAgICAgICAgICB1aWQsIGVtYWlsLCBkaXNwbGF5X25hbWUsIHN0b3JlX25hbWUsIHBob25lX251bWJlciwgbmF0aW9uYWxfaWQsXHJcbiAgICAgICAgICBidXNpbmVzc19vd25lcl9uYW1lLCBidXNpbmVzc19vd25lcl9lbWFpbCwgYnVzaW5lc3Nfb3duZXJfcGhvbmUsXHJcbiAgICAgICAgICBzdG9yZV9jb3VudHJ5LCBzdG9yZV9jaXR5LCBzdG9yZV9hZGRyZXNzMSwgc3RvcmVfYWRkcmVzczIsXHJcbiAgICAgICAgICBwb3N0YWxfY29kZSwgdmF0X251bWJlciwgcHJvZmlsZV9qc29uLCB1cGRhdGVkX2F0XHJcbiAgICAgICAgKSBWQUxVRVMgKFxyXG4gICAgICAgICAgJDEsICQyLCAkMywgJDQsICQ1LCAkNiwgJDcsICQ4LCAkOSwgJDEwLCAkMTEsICQxMiwgJDEzLCAkMTQsICQxNSwgJDE2LCBOT1coKVxyXG4gICAgICAgIClcclxuICAgICAgICBPTiBDT05GTElDVCAodWlkKSBETyBVUERBVEUgU0VUXHJcbiAgICAgICAgICBlbWFpbCA9IEVYQ0xVREVELmVtYWlsLFxyXG4gICAgICAgICAgZGlzcGxheV9uYW1lID0gRVhDTFVERUQuZGlzcGxheV9uYW1lLFxyXG4gICAgICAgICAgc3RvcmVfbmFtZSA9IEVYQ0xVREVELnN0b3JlX25hbWUsXHJcbiAgICAgICAgICBwaG9uZV9udW1iZXIgPSBFWENMVURFRC5waG9uZV9udW1iZXIsXHJcbiAgICAgICAgICBuYXRpb25hbF9pZCA9IEVYQ0xVREVELm5hdGlvbmFsX2lkLFxyXG4gICAgICAgICAgYnVzaW5lc3Nfb3duZXJfbmFtZSA9IEVYQ0xVREVELmJ1c2luZXNzX293bmVyX25hbWUsXHJcbiAgICAgICAgICBidXNpbmVzc19vd25lcl9lbWFpbCA9IEVYQ0xVREVELmJ1c2luZXNzX293bmVyX2VtYWlsLFxyXG4gICAgICAgICAgYnVzaW5lc3Nfb3duZXJfcGhvbmUgPSBFWENMVURFRC5idXNpbmVzc19vd25lcl9waG9uZSxcclxuICAgICAgICAgIHN0b3JlX2NvdW50cnkgPSBFWENMVURFRC5zdG9yZV9jb3VudHJ5LFxyXG4gICAgICAgICAgc3RvcmVfY2l0eSA9IEVYQ0xVREVELnN0b3JlX2NpdHksXHJcbiAgICAgICAgICBzdG9yZV9hZGRyZXNzMSA9IEVYQ0xVREVELnN0b3JlX2FkZHJlc3MxLFxyXG4gICAgICAgICAgc3RvcmVfYWRkcmVzczIgPSBFWENMVURFRC5zdG9yZV9hZGRyZXNzMixcclxuICAgICAgICAgIHBvc3RhbF9jb2RlID0gRVhDTFVERUQucG9zdGFsX2NvZGUsXHJcbiAgICAgICAgICB2YXRfbnVtYmVyID0gRVhDTFVERUQudmF0X251bWJlcixcclxuICAgICAgICAgIHByb2ZpbGVfanNvbiA9IEVYQ0xVREVELnByb2ZpbGVfanNvbixcclxuICAgICAgICAgIHVwZGF0ZWRfYXQgPSBOT1coKVxyXG4gICAgICAgIFJFVFVSTklORyAqO1xyXG4gICAgICBgO1xyXG5cclxuICAgICAgY29uc3QgdmFsdWVzID0gW1xyXG4gICAgICAgIHVzZXJEYXRhLnVpZCxcclxuICAgICAgICB1c2VyRGF0YS5lbWFpbCxcclxuICAgICAgICB1c2VyRGF0YS5kaXNwbGF5TmFtZSB8fCBudWxsLFxyXG4gICAgICAgIHVzZXJEYXRhLnN0b3JlTmFtZSB8fCBudWxsLFxyXG4gICAgICAgIHVzZXJEYXRhLnBob25lTnVtYmVyIHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEubmF0aW9uYWxJZCB8fCBudWxsLFxyXG4gICAgICAgIHVzZXJEYXRhLmJ1c2luZXNzT3duZXJOYW1lIHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEuYnVzaW5lc3NPd25lckVtYWlsIHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEuYnVzaW5lc3NPd25lclBob25lIHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEuc3RvcmVDb3VudHJ5IHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEuc3RvcmVDaXR5IHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEuc3RvcmVBZGRyZXNzMSB8fCBudWxsLFxyXG4gICAgICAgIHVzZXJEYXRhLnN0b3JlQWRkcmVzczIgfHwgbnVsbCxcclxuICAgICAgICB1c2VyRGF0YS5wb3N0YWxDb2RlIHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEudmF0TnVtYmVyIHx8IG51bGwsXHJcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkocXVlcnksIHZhbHVlcyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgVXNlciBkYXRhIHNhdmVkIHRvIGRhdGFiYXNlOicsIHVzZXJEYXRhLnVpZCk7XHJcbiAgICAgIHJldHVybiByZXN1bHQucm93c1swXTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBEYXRhYmFzZSBvcGVyYXRpb24gZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2F2ZSB1c2VyIGRhdGE6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGNsaWVudC5yZWxlYXNlKCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgYXN5bmMgZ2V0VXNlcih1aWQ6IHN0cmluZykge1xyXG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgZGJQb29sLmNvbm5lY3QoKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5xdWVyeSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1aWQgPSAkMScsIFt1aWRdKTtcclxuICAgICAgY29uc3QgdXNlciA9IHJlc3VsdC5yb3dzWzBdIHx8IG51bGw7XHJcblxyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgVXNlciBkYXRhIHJldHJpZXZlZCBmcm9tIGRhdGFiYXNlOicsIHVpZCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KEue+4jyBObyB1c2VyIGZvdW5kIGluIGRhdGFiYXNlOicsIHVpZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRGF0YWJhc2UgcXVlcnkgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcmV0cmlldmUgdXNlciBkYXRhOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBjbGllbnQucmVsZWFzZSgpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGFzeW5jIGdldFVzZXJCeUVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGRiUG9vbC5jb25uZWN0KCk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkoJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSAkMScsIFtlbWFpbF0pO1xyXG4gICAgICByZXR1cm4gcmVzdWx0LnJvd3NbMF0gfHwgbnVsbDtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIERhdGFiYXNlIHF1ZXJ5IGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHJldHJpZXZlIHVzZXIgYnkgZW1haWw6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGNsaWVudC5yZWxlYXNlKCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgYXN5bmMgZGVsZXRlVXNlcih1aWQ6IHN0cmluZykge1xyXG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgZGJQb29sLmNvbm5lY3QoKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5xdWVyeSgnREVMRVRFIEZST00gdXNlcnMgV0hFUkUgdWlkID0gJDEgUkVUVVJOSU5HIConLCBbdWlkXSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgVXNlciBkZWxldGVkIGZyb20gZGF0YWJhc2U6JywgdWlkKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5yb3dzWzBdIHx8IG51bGw7XHJcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBEYXRhYmFzZSBkZWxldGUgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIHVzZXI6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGNsaWVudC5yZWxlYXNlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gSGVhbHRoIGNoZWNrIGZ1bmN0aW9uIGZvciBtb25pdG9yaW5nXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoZWFsdGhDaGVjaygpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY29ubmVjdGlvblRlc3QgPSBhd2FpdCB0ZXN0RGF0YWJhc2VDb25uZWN0aW9uKDEpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YWJhc2U6IGNvbm5lY3Rpb25UZXN0LnN1Y2Nlc3MgPyAnaGVhbHRoeScgOiAndW5oZWFsdGh5JyxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIG1lc3NhZ2U6IGNvbm5lY3Rpb25UZXN0Lm1lc3NhZ2VcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YWJhc2U6ICd1bmhlYWx0aHknLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxyXG4gICAgfTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiUG9vbCIsIkRBVEFCQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsImRiUG9vbCIsImNvbm5lY3Rpb25TdHJpbmciLCJtYXgiLCJpZGxlVGltZW91dE1pbGxpcyIsImNvbm5lY3Rpb25UaW1lb3V0TWlsbGlzIiwic3NsIiwicmVqZWN0VW5hdXRob3JpemVkIiwia2VlcEFsaXZlIiwia2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzIiwidGVzdERhdGFiYXNlQ29ubmVjdGlvbiIsInJldHJpZXMiLCJjbGllbnQiLCJhdHRlbXB0IiwiY29ubmVjdCIsImNvbnNvbGUiLCJsb2ciLCJxdWVyeSIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZXJyb3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJNYXRoIiwicG93IiwicmVsZWFzZSIsInVzZXJPcGVyYXRpb25zIiwiY3JlYXRlT3JVcGRhdGVVc2VyIiwidXNlckRhdGEiLCJ2YWx1ZXMiLCJ1aWQiLCJlbWFpbCIsImRpc3BsYXlOYW1lIiwic3RvcmVOYW1lIiwicGhvbmVOdW1iZXIiLCJuYXRpb25hbElkIiwiYnVzaW5lc3NPd25lck5hbWUiLCJidXNpbmVzc093bmVyRW1haWwiLCJidXNpbmVzc093bmVyUGhvbmUiLCJzdG9yZUNvdW50cnkiLCJzdG9yZUNpdHkiLCJzdG9yZUFkZHJlc3MxIiwic3RvcmVBZGRyZXNzMiIsInBvc3RhbENvZGUiLCJ2YXROdW1iZXIiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzdWx0Iiwicm93cyIsImdldFVzZXIiLCJ1c2VyIiwiZ2V0VXNlckJ5RW1haWwiLCJkZWxldGVVc2VyIiwiaGVhbHRoQ2hlY2siLCJjb25uZWN0aW9uVGVzdCIsImRhdGFiYXNlIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Froute&page=%2Fapi%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Froute.ts&appDir=c%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=c%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();