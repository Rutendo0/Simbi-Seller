"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/users/route";
exports.ids = ["app/api/users/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("pg");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Froute&page=%2Fapi%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Froute.ts&appDir=C%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Froute&page=%2Fapi%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Froute.ts&appDir=C%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_user_OneDrive_Desktop_Simbi_Seller_app_api_users_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/users/route.ts */ \"(rsc)/./app/api/users/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/users/route\",\n        pathname: \"/api/users\",\n        filename: \"route\",\n        bundlePath: \"app/api/users/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\user\\\\OneDrive\\\\Desktop\\\\Simbi-Seller\\\\app\\\\api\\\\users\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_user_OneDrive_Desktop_Simbi_Seller_app_api_users_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/users/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ1c2VycyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdXNlcnMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ1c2VycyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUN1c2VyJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDU2ltYmktU2VsbGVyJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUN1c2VyJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDU2ltYmktU2VsbGVyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUMyQjtBQUN4RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3NpbWJpLXNlbGxlci1kYXNoYm9hcmQvPzI3YzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcdXNlclxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXFNpbWJpLVNlbGxlclxcXFxhcHBcXFxcYXBpXFxcXHVzZXJzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS91c2Vycy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VzZXJzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS91c2Vycy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHVzZXJcXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxTaW1iaS1TZWxsZXJcXFxcYXBwXFxcXGFwaVxcXFx1c2Vyc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvdXNlcnMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Froute&page=%2Fapi%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Froute.ts&appDir=C%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/users/route.ts":
/*!********************************!*\
  !*** ./app/api/users/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/database */ \"(rsc)/./src/lib/database.ts\");\n\n\nasync function GET(req) {\n    const url = new URL(req.url);\n    const uid = url.searchParams.get(\"uid\");\n    const test = url.searchParams.get(\"test\");\n    const migrate = url.searchParams.get(\"migrate\");\n    try {\n        // Health check endpoint\n        if (test === \"1\") {\n            const connectionTest = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.testDatabaseConnection)();\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                database: connectionTest.success ? \"connected\" : \"disconnected\",\n                message: connectionTest.message,\n                timestamp: new Date().toISOString()\n            });\n        }\n        // Migration endpoint for syncing existing Firebase users\n        if (migrate === \"1\") {\n            try {\n                const migrationResult = await _lib_database__WEBPACK_IMPORTED_MODULE_1__.userMigration.syncExistingUsersWithDatabase();\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    message: migrationResult.message,\n                    dbUserCount: migrationResult.dbUserCount,\n                    timestamp: new Date().toISOString()\n                });\n            } catch (migrationError) {\n                console.error(\"Migration endpoint error:\", migrationError);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Migration failed\",\n                    details: migrationError.message\n                }, {\n                    status: 500\n                });\n            }\n        }\n        // Test database connection first\n        const connectionTest = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.testDatabaseConnection)();\n        if (!connectionTest.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Database connection failed\",\n                details: connectionTest.message,\n                fallback: \"Using localStorage mode\"\n            }, {\n                status: 503\n            });\n        }\n        if (uid) {\n            const user = await _lib_database__WEBPACK_IMPORTED_MODULE_1__.userOperations.getUser(uid);\n            if (user) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    user: {\n                        uid: user.uid,\n                        email: user.email,\n                        displayName: user.display_name,\n                        storeName: user.store_name,\n                        phoneNumber: user.phone_number,\n                        nationalId: user.national_id,\n                        businessOwnerName: user.business_owner_name,\n                        businessOwnerEmail: user.business_owner_email,\n                        businessOwnerPhone: user.business_owner_phone,\n                        storeCountry: user.store_country,\n                        storeCity: user.store_city,\n                        storeAddress1: user.store_address1,\n                        storeAddress2: user.store_address2,\n                        postalCode: user.postal_code,\n                        vatNumber: user.vat_number,\n                        createdAt: user.created_at,\n                        updatedAt: user.updated_at\n                    }\n                });\n            } else {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    user: null,\n                    message: \"User not found in database\"\n                });\n            }\n        }\n        // Return empty array if no uid specified\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            users: []\n        });\n    } catch (error) {\n        console.error(\"Database query error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Database query failed\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        console.log(\"API POST request body:\", body);\n        if (!body || !body.uid || !body.email) {\n            console.error(\"Missing required fields:\", {\n                uid: !!body?.uid,\n                email: !!body?.email\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing required fields: uid and email\"\n            }, {\n                status: 400\n            });\n        }\n        // Test database connection first\n        const connectionTest = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.testDatabaseConnection)();\n        if (!connectionTest.success) {\n            console.error(\"Database connection failed:\", connectionTest.message);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Database connection failed\",\n                details: connectionTest.message,\n                fallback: \"Please use localStorage mode for now\"\n            }, {\n                status: 503\n            });\n        }\n        // Create or update user in database\n        const user = await _lib_database__WEBPACK_IMPORTED_MODULE_1__.userOperations.createOrUpdateUser({\n            uid: body.uid,\n            email: body.email,\n            displayName: body.displayName,\n            storeName: body.storeName,\n            phoneNumber: body.phoneNumber,\n            nationalId: body.nationalId,\n            businessOwnerName: body.businessOwnerName,\n            businessOwnerEmail: body.businessOwnerEmail,\n            businessOwnerPhone: body.businessOwnerPhone,\n            storeCountry: body.storeCountry,\n            storeCity: body.storeCity,\n            storeAddress1: body.storeAddress1,\n            storeAddress2: body.storeAddress2,\n            postalCode: body.postalCode,\n            vatNumber: body.vatNumber\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            user: {\n                uid: user.uid,\n                email: user.email,\n                displayName: user.display_name,\n                storeName: user.store_name,\n                phoneNumber: user.phone_number,\n                nationalId: user.national_id,\n                businessOwnerName: user.business_owner_name,\n                businessOwnerEmail: user.business_owner_email,\n                businessOwnerPhone: user.business_owner_phone,\n                storeCountry: user.store_country,\n                storeCity: user.store_city,\n                storeAddress1: user.store_address1,\n                storeAddress2: user.store_address2,\n                postalCode: user.postal_code,\n                vatNumber: user.vat_number,\n                createdAt: user.created_at,\n                updatedAt: user.updated_at\n            }\n        });\n    } catch (error) {\n        console.error(\"Database operation error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Database operation failed\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(req) {\n    try {\n        const body = await req.json();\n        console.log(\"API PUT request body:\", body);\n        if (!body || !body.uid || !body.email) {\n            console.error(\"Missing required fields:\", {\n                uid: !!body?.uid,\n                email: !!body?.email\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing required fields: uid and email\"\n            }, {\n                status: 400\n            });\n        }\n        // Test database connection first\n        const connectionTest = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.testDatabaseConnection)();\n        if (!connectionTest.success) {\n            console.error(\"Database connection failed:\", connectionTest.message);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Database connection failed\",\n                details: connectionTest.message,\n                fallback: \"Please use localStorage mode for now\"\n            }, {\n                status: 503\n            });\n        }\n        // Create user from Firebase data (migration endpoint)\n        const user = await _lib_database__WEBPACK_IMPORTED_MODULE_1__.userMigration.createUserFromFirebaseData({\n            uid: body.uid,\n            email: body.email,\n            displayName: body.displayName\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"User migrated successfully\",\n            user: {\n                uid: user.uid,\n                email: user.email,\n                displayName: user.display_name,\n                createdAt: user.created_at,\n                updatedAt: user.updated_at\n            }\n        });\n    } catch (error) {\n        console.error(\"Migration operation error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Migration operation failed\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFFQSxPQUFPakMscURBQVlBLENBQUNjLElBQUksQ0FBQztZQUN2QkUsU0FBUztZQUNUQyxTQUFTO1lBQ1RhLE1BQU07Z0JBQ0p0QixLQUFLc0IsS0FBS3RCLEdBQUc7Z0JBQ2J3QixPQUFPRixLQUFLRSxLQUFLO2dCQUNqQkMsYUFBYUgsS0FBS0ksWUFBWTtnQkFDOUJ5QixXQUFXN0IsS0FBSzhCLFVBQVU7Z0JBQzFCQyxXQUFXL0IsS0FBS2dDLFVBQVU7WUFDNUI7UUFDRjtJQUNGLEVBQUUsT0FBT3BDLE9BQVk7UUFDbkJELFFBQVFDLEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU8xQixxREFBWUEsQ0FBQ2MsSUFBSSxDQUFDO1lBQ3ZCWSxPQUFPO1lBQ1BDLFNBQVNELE1BQU1ULE9BQU87UUFDeEIsR0FBRztZQUFFVyxRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3NpbWJpLXNlbGxlci1kYXNoYm9hcmQvLi9hcHAvYXBpL3VzZXJzL3JvdXRlLnRzPzdmYjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgdXNlck9wZXJhdGlvbnMsIHRlc3REYXRhYmFzZUNvbm5lY3Rpb24sIHVzZXJNaWdyYXRpb24gfSBmcm9tICdAL2xpYi9kYXRhYmFzZSc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxOiBSZXF1ZXN0KSB7XG4gIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxLnVybCk7XG4gIGNvbnN0IHVpZCA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCd1aWQnKTtcbiAgY29uc3QgdGVzdCA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCd0ZXN0Jyk7XG4gIGNvbnN0IG1pZ3JhdGUgPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgnbWlncmF0ZScpO1xuXG4gIHRyeSB7XG4gICAgLy8gSGVhbHRoIGNoZWNrIGVuZHBvaW50XG4gICAgaWYgKHRlc3QgPT09ICcxJykge1xuICAgICAgY29uc3QgY29ubmVjdGlvblRlc3QgPSBhd2FpdCB0ZXN0RGF0YWJhc2VDb25uZWN0aW9uKCk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBkYXRhYmFzZTogY29ubmVjdGlvblRlc3Quc3VjY2VzcyA/ICdjb25uZWN0ZWQnIDogJ2Rpc2Nvbm5lY3RlZCcsXG4gICAgICAgIG1lc3NhZ2U6IGNvbm5lY3Rpb25UZXN0Lm1lc3NhZ2UsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBNaWdyYXRpb24gZW5kcG9pbnQgZm9yIHN5bmNpbmcgZXhpc3RpbmcgRmlyZWJhc2UgdXNlcnNcbiAgICBpZiAobWlncmF0ZSA9PT0gJzEnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBtaWdyYXRpb25SZXN1bHQgPSBhd2FpdCB1c2VyTWlncmF0aW9uLnN5bmNFeGlzdGluZ1VzZXJzV2l0aERhdGFiYXNlKCk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBtZXNzYWdlOiBtaWdyYXRpb25SZXN1bHQubWVzc2FnZSxcbiAgICAgICAgICBkYlVzZXJDb3VudDogbWlncmF0aW9uUmVzdWx0LmRiVXNlckNvdW50LFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAobWlncmF0aW9uRXJyb3I6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdNaWdyYXRpb24gZW5kcG9pbnQgZXJyb3I6JywgbWlncmF0aW9uRXJyb3IpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIGVycm9yOiAnTWlncmF0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgZGV0YWlsczogbWlncmF0aW9uRXJyb3IubWVzc2FnZVxuICAgICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRlc3QgZGF0YWJhc2UgY29ubmVjdGlvbiBmaXJzdFxuICAgIGNvbnN0IGNvbm5lY3Rpb25UZXN0ID0gYXdhaXQgdGVzdERhdGFiYXNlQ29ubmVjdGlvbigpO1xuICAgIGlmICghY29ubmVjdGlvblRlc3Quc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgZXJyb3I6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcsXG4gICAgICAgIGRldGFpbHM6IGNvbm5lY3Rpb25UZXN0Lm1lc3NhZ2UsXG4gICAgICAgIGZhbGxiYWNrOiAnVXNpbmcgbG9jYWxTdG9yYWdlIG1vZGUnXG4gICAgICB9LCB7IHN0YXR1czogNTAzIH0pO1xuICAgIH1cblxuICAgIGlmICh1aWQpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyT3BlcmF0aW9ucy5nZXRVc2VyKHVpZCk7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgIHVpZDogdXNlci51aWQsXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlfbmFtZSxcbiAgICAgICAgICAgIHN0b3JlTmFtZTogdXNlci5zdG9yZV9uYW1lLFxuICAgICAgICAgICAgcGhvbmVOdW1iZXI6IHVzZXIucGhvbmVfbnVtYmVyLFxuICAgICAgICAgICAgbmF0aW9uYWxJZDogdXNlci5uYXRpb25hbF9pZCxcbiAgICAgICAgICAgIGJ1c2luZXNzT3duZXJOYW1lOiB1c2VyLmJ1c2luZXNzX293bmVyX25hbWUsXG4gICAgICAgICAgICBidXNpbmVzc093bmVyRW1haWw6IHVzZXIuYnVzaW5lc3Nfb3duZXJfZW1haWwsXG4gICAgICAgICAgICBidXNpbmVzc093bmVyUGhvbmU6IHVzZXIuYnVzaW5lc3Nfb3duZXJfcGhvbmUsXG4gICAgICAgICAgICBzdG9yZUNvdW50cnk6IHVzZXIuc3RvcmVfY291bnRyeSxcbiAgICAgICAgICAgIHN0b3JlQ2l0eTogdXNlci5zdG9yZV9jaXR5LFxuICAgICAgICAgICAgc3RvcmVBZGRyZXNzMTogdXNlci5zdG9yZV9hZGRyZXNzMSxcbiAgICAgICAgICAgIHN0b3JlQWRkcmVzczI6IHVzZXIuc3RvcmVfYWRkcmVzczIsXG4gICAgICAgICAgICBwb3N0YWxDb2RlOiB1c2VyLnBvc3RhbF9jb2RlLFxuICAgICAgICAgICAgdmF0TnVtYmVyOiB1c2VyLnZhdF9udW1iZXIsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IHVzZXIuY3JlYXRlZF9hdCxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogdXNlci51cGRhdGVkX2F0XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgICAgICBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQgaW4gZGF0YWJhc2UnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBlbXB0eSBhcnJheSBpZiBubyB1aWQgc3BlY2lmaWVkXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgdXNlcnM6IFtdIH0pO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgcXVlcnkgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBlcnJvcjogJ0RhdGFiYXNlIHF1ZXJ5IGZhaWxlZCcsXG4gICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgICBjb25zb2xlLmxvZygnQVBJIFBPU1QgcmVxdWVzdCBib2R5OicsIGJvZHkpO1xuXG4gICAgaWYgKCFib2R5IHx8ICFib2R5LnVpZCB8fCAhYm9keS5lbWFpbCkge1xuICAgICAgY29uc29sZS5lcnJvcignTWlzc2luZyByZXF1aXJlZCBmaWVsZHM6JywgeyB1aWQ6ICEhYm9keT8udWlkLCBlbWFpbDogISFib2R5Py5lbWFpbCB9KTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHM6IHVpZCBhbmQgZW1haWwnXG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIC8vIFRlc3QgZGF0YWJhc2UgY29ubmVjdGlvbiBmaXJzdFxuICAgIGNvbnN0IGNvbm5lY3Rpb25UZXN0ID0gYXdhaXQgdGVzdERhdGFiYXNlQ29ubmVjdGlvbigpO1xuICAgIGlmICghY29ubmVjdGlvblRlc3Quc3VjY2Vzcykge1xuICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQ6JywgY29ubmVjdGlvblRlc3QubWVzc2FnZSk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBlcnJvcjogJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyxcbiAgICAgICAgZGV0YWlsczogY29ubmVjdGlvblRlc3QubWVzc2FnZSxcbiAgICAgICAgZmFsbGJhY2s6ICdQbGVhc2UgdXNlIGxvY2FsU3RvcmFnZSBtb2RlIGZvciBub3cnXG4gICAgICB9LCB7IHN0YXR1czogNTAzIH0pO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBvciB1cGRhdGUgdXNlciBpbiBkYXRhYmFzZVxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyT3BlcmF0aW9ucy5jcmVhdGVPclVwZGF0ZVVzZXIoe1xuICAgICAgdWlkOiBib2R5LnVpZCxcbiAgICAgIGVtYWlsOiBib2R5LmVtYWlsLFxuICAgICAgZGlzcGxheU5hbWU6IGJvZHkuZGlzcGxheU5hbWUsXG4gICAgICBzdG9yZU5hbWU6IGJvZHkuc3RvcmVOYW1lLFxuICAgICAgcGhvbmVOdW1iZXI6IGJvZHkucGhvbmVOdW1iZXIsXG4gICAgICBuYXRpb25hbElkOiBib2R5Lm5hdGlvbmFsSWQsXG4gICAgICBidXNpbmVzc093bmVyTmFtZTogYm9keS5idXNpbmVzc093bmVyTmFtZSxcbiAgICAgIGJ1c2luZXNzT3duZXJFbWFpbDogYm9keS5idXNpbmVzc093bmVyRW1haWwsXG4gICAgICBidXNpbmVzc093bmVyUGhvbmU6IGJvZHkuYnVzaW5lc3NPd25lclBob25lLFxuICAgICAgc3RvcmVDb3VudHJ5OiBib2R5LnN0b3JlQ291bnRyeSxcbiAgICAgIHN0b3JlQ2l0eTogYm9keS5zdG9yZUNpdHksXG4gICAgICBzdG9yZUFkZHJlc3MxOiBib2R5LnN0b3JlQWRkcmVzczEsXG4gICAgICBzdG9yZUFkZHJlc3MyOiBib2R5LnN0b3JlQWRkcmVzczIsXG4gICAgICBwb3N0YWxDb2RlOiBib2R5LnBvc3RhbENvZGUsXG4gICAgICB2YXROdW1iZXI6IGJvZHkudmF0TnVtYmVyLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB1c2VyOiB7XG4gICAgICAgIHVpZDogdXNlci51aWQsXG4gICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICBkaXNwbGF5TmFtZTogdXNlci5kaXNwbGF5X25hbWUsXG4gICAgICAgIHN0b3JlTmFtZTogdXNlci5zdG9yZV9uYW1lLFxuICAgICAgICBwaG9uZU51bWJlcjogdXNlci5waG9uZV9udW1iZXIsXG4gICAgICAgIG5hdGlvbmFsSWQ6IHVzZXIubmF0aW9uYWxfaWQsXG4gICAgICAgIGJ1c2luZXNzT3duZXJOYW1lOiB1c2VyLmJ1c2luZXNzX293bmVyX25hbWUsXG4gICAgICAgIGJ1c2luZXNzT3duZXJFbWFpbDogdXNlci5idXNpbmVzc19vd25lcl9lbWFpbCxcbiAgICAgICAgYnVzaW5lc3NPd25lclBob25lOiB1c2VyLmJ1c2luZXNzX293bmVyX3Bob25lLFxuICAgICAgICBzdG9yZUNvdW50cnk6IHVzZXIuc3RvcmVfY291bnRyeSxcbiAgICAgICAgc3RvcmVDaXR5OiB1c2VyLnN0b3JlX2NpdHksXG4gICAgICAgIHN0b3JlQWRkcmVzczE6IHVzZXIuc3RvcmVfYWRkcmVzczEsXG4gICAgICAgIHN0b3JlQWRkcmVzczI6IHVzZXIuc3RvcmVfYWRkcmVzczIsXG4gICAgICAgIHBvc3RhbENvZGU6IHVzZXIucG9zdGFsX2NvZGUsXG4gICAgICAgIHZhdE51bWJlcjogdXNlci52YXRfbnVtYmVyLFxuICAgICAgICBjcmVhdGVkQXQ6IHVzZXIuY3JlYXRlZF9hdCxcbiAgICAgICAgdXBkYXRlZEF0OiB1c2VyLnVwZGF0ZWRfYXRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIG9wZXJhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIGVycm9yOiAnRGF0YWJhc2Ugb3BlcmF0aW9uIGZhaWxlZCcsXG4gICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcTogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xuICAgIGNvbnNvbGUubG9nKCdBUEkgUFVUIHJlcXVlc3QgYm9keTonLCBib2R5KTtcblxuICAgIGlmICghYm9keSB8fCAhYm9keS51aWQgfHwgIWJvZHkuZW1haWwpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzOicsIHsgdWlkOiAhIWJvZHk/LnVpZCwgZW1haWw6ICEhYm9keT8uZW1haWwgfSk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBlcnJvcjogJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzOiB1aWQgYW5kIGVtYWlsJ1xuICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICAvLyBUZXN0IGRhdGFiYXNlIGNvbm5lY3Rpb24gZmlyc3RcbiAgICBjb25zdCBjb25uZWN0aW9uVGVzdCA9IGF3YWl0IHRlc3REYXRhYmFzZUNvbm5lY3Rpb24oKTtcbiAgICBpZiAoIWNvbm5lY3Rpb25UZXN0LnN1Y2Nlc3MpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkOicsIGNvbm5lY3Rpb25UZXN0Lm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgZXJyb3I6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcsXG4gICAgICAgIGRldGFpbHM6IGNvbm5lY3Rpb25UZXN0Lm1lc3NhZ2UsXG4gICAgICAgIGZhbGxiYWNrOiAnUGxlYXNlIHVzZSBsb2NhbFN0b3JhZ2UgbW9kZSBmb3Igbm93J1xuICAgICAgfSwgeyBzdGF0dXM6IDUwMyB9KTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdXNlciBmcm9tIEZpcmViYXNlIGRhdGEgKG1pZ3JhdGlvbiBlbmRwb2ludClcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdXNlck1pZ3JhdGlvbi5jcmVhdGVVc2VyRnJvbUZpcmViYXNlRGF0YSh7XG4gICAgICB1aWQ6IGJvZHkudWlkLFxuICAgICAgZW1haWw6IGJvZHkuZW1haWwsXG4gICAgICBkaXNwbGF5TmFtZTogYm9keS5kaXNwbGF5TmFtZSxcbiAgICB9KTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ1VzZXIgbWlncmF0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIHVzZXI6IHtcbiAgICAgICAgdWlkOiB1c2VyLnVpZCxcbiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlfbmFtZSxcbiAgICAgICAgY3JlYXRlZEF0OiB1c2VyLmNyZWF0ZWRfYXQsXG4gICAgICAgIHVwZGF0ZWRBdDogdXNlci51cGRhdGVkX2F0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdNaWdyYXRpb24gb3BlcmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgZXJyb3I6ICdNaWdyYXRpb24gb3BlcmF0aW9uIGZhaWxlZCcsXG4gICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInVzZXJPcGVyYXRpb25zIiwidGVzdERhdGFiYXNlQ29ubmVjdGlvbiIsInVzZXJNaWdyYXRpb24iLCJHRVQiLCJyZXEiLCJ1cmwiLCJVUkwiLCJ1aWQiLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJ0ZXN0IiwibWlncmF0ZSIsImNvbm5lY3Rpb25UZXN0IiwianNvbiIsImRhdGFiYXNlIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJtaWdyYXRpb25SZXN1bHQiLCJzeW5jRXhpc3RpbmdVc2Vyc1dpdGhEYXRhYmFzZSIsImRiVXNlckNvdW50IiwibWlncmF0aW9uRXJyb3IiLCJjb25zb2xlIiwiZXJyb3IiLCJkZXRhaWxzIiwic3RhdHVzIiwiZmFsbGJhY2siLCJ1c2VyIiwiZ2V0VXNlciIsImVtYWlsIiwiZGlzcGxheU5hbWUiLCJkaXNwbGF5X25hbWUiLCJzdG9yZU5hbWUiLCJzdG9yZV9uYW1lIiwicGhvbmVOdW1iZXIiLCJwaG9uZV9udW1iZXIiLCJuYXRpb25hbElkIiwibmF0aW9uYWxfaWQiLCJidXNpbmVzc093bmVyTmFtZSIsImJ1c2luZXNzX293bmVyX25hbWUiLCJidXNpbmVzc093bmVyRW1haWwiLCJidXNpbmVzc19vd25lcl9lbWFpbCIsImJ1c2luZXNzT3duZXJQaG9uZSIsImJ1c2luZXNzX293bmVyX3Bob25lIiwic3RvcmVDb3VudHJ5Iiwic3RvcmVfY291bnRyeSIsInN0b3JlQ2l0eSIsInN0b3JlX2NpdHkiLCJzdG9yZUFkZHJlc3MxIiwic3RvcmVfYWRkcmVzczEiLCJzdG9yZUFkZHJlc3MyIiwic3RvcmVfYWRkcmVzczIiLCJwb3N0YWxDb2RlIiwicG9zdGFsX2NvZGUiLCJ2YXROdW1iZXIiLCJ2YXRfbnVtYmVyIiwiY3JlYXRlZEF0IiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRBdCIsInVwZGF0ZWRfYXQiLCJ1c2VycyIsIlBPU1QiLCJib2R5IiwibG9nIiwiY3JlYXRlT3JVcGRhdGVVc2VyIiwiUFVUIiwiY3JlYXRlVXNlckZyb21GaXJlYmFzZURhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/users/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/database.ts":
/*!*****************************!*\
  !*** ./src/lib/database.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbPool: () => (/* binding */ dbPool),\n/* harmony export */   healthCheck: () => (/* binding */ healthCheck),\n/* harmony export */   testDatabaseConnection: () => (/* binding */ testDatabaseConnection),\n/* harmony export */   userMigration: () => (/* binding */ userMigration),\n/* harmony export */   userOperations: () => (/* binding */ userOperations)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pg__WEBPACK_IMPORTED_MODULE_0__);\n\nconst DATABASE_URL = process.env.DATABASE_URL;\nif (!DATABASE_URL) {\n    throw new Error(\"DATABASE_URL environment variable is required\");\n}\n// Production-ready connection pool with optimized settings\nconst dbPool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n    connectionString: DATABASE_URL,\n    max: 20,\n    idleTimeoutMillis: 30000,\n    connectionTimeoutMillis: 15000,\n    ssl: {\n        rejectUnauthorized: false\n    },\n    // Neon-specific optimizations\n    keepAlive: true,\n    keepAliveInitialDelayMillis: 0\n});\n// Test database connection with retry logic\nasync function testDatabaseConnection(retries = 3) {\n    let client;\n    let attempt = 0;\n    while(attempt < retries){\n        try {\n            client = await dbPool.connect();\n            console.log(`‚úÖ Database connection successful (attempt ${attempt + 1})`);\n            // Test with a simple query\n            await client.query(\"SELECT 1\");\n            console.log(\"‚úÖ Database query test passed\");\n            // Ensure users table exists with production schema\n            await client.query(`\r\n        CREATE TABLE IF NOT EXISTS users (\r\n          uid TEXT PRIMARY KEY,\r\n          email TEXT UNIQUE NOT NULL,\r\n          display_name TEXT,\r\n          store_name TEXT,\r\n          phone_number TEXT,\r\n          national_id TEXT,\r\n          business_owner_name TEXT,\r\n          business_owner_email TEXT,\r\n          business_owner_phone TEXT,\r\n          store_country TEXT,\r\n          store_city TEXT,\r\n          store_address1 TEXT,\r\n          store_address2 TEXT,\r\n          postal_code TEXT,\r\n          vat_number TEXT,\r\n          profile_json JSONB,\r\n          created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\r\n          updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\r\n        );\r\n      `);\n            // Create indexes for better performance\n            await client.query(`\r\n        CREATE INDEX IF NOT EXISTS idx_users_email ON users(email);\r\n        CREATE INDEX IF NOT EXISTS idx_users_store_name ON users(store_name);\r\n        CREATE INDEX IF NOT EXISTS idx_users_created_at ON users(created_at);\r\n      `);\n            console.log(\"‚úÖ Users table and indexes ready\");\n            return {\n                success: true,\n                message: \"Database connected successfully\"\n            };\n        } catch (error) {\n            attempt++;\n            console.error(`‚ùå Database connection attempt ${attempt} failed:`, error.message);\n            if (attempt >= retries) {\n                return {\n                    success: false,\n                    message: `Database connection failed after ${retries} attempts: ${error.message}`\n                };\n            }\n            // Wait before retry (exponential backoff)\n            await new Promise((resolve)=>setTimeout(resolve, Math.pow(2, attempt) * 1000));\n        } finally{\n            if (client) client.release();\n        }\n    }\n    return {\n        success: false,\n        message: \"Database connection failed\"\n    };\n}\n// Production-ready user operations with error handling\nconst userOperations = {\n    async createOrUpdateUser (userData) {\n        const client = await dbPool.connect();\n        try {\n            const query = `\r\n        INSERT INTO users (\r\n          uid, email, display_name, store_name, phone_number, national_id,\r\n          business_owner_name, business_owner_email, business_owner_phone,\r\n          store_country, store_city, store_address1, store_address2,\r\n          postal_code, vat_number, profile_json, updated_at\r\n        ) VALUES (\r\n          $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, NOW()\r\n        )\r\n        ON CONFLICT (uid) DO UPDATE SET\r\n          email = EXCLUDED.email,\r\n          display_name = EXCLUDED.display_name,\r\n          store_name = EXCLUDED.store_name,\r\n          phone_number = EXCLUDED.phone_number,\r\n          national_id = EXCLUDED.national_id,\r\n          business_owner_name = EXCLUDED.business_owner_name,\r\n          business_owner_email = EXCLUDED.business_owner_email,\r\n          business_owner_phone = EXCLUDED.business_owner_phone,\r\n          store_country = EXCLUDED.store_country,\r\n          store_city = EXCLUDED.store_city,\r\n          store_address1 = EXCLUDED.store_address1,\r\n          store_address2 = EXCLUDED.store_address2,\r\n          postal_code = EXCLUDED.postal_code,\r\n          vat_number = EXCLUDED.vat_number,\r\n          profile_json = EXCLUDED.profile_json,\r\n          updated_at = NOW()\r\n        RETURNING *;\r\n      `;\n            const values = [\n                userData.uid,\n                userData.email,\n                userData.displayName || null,\n                userData.storeName || null,\n                userData.phoneNumber || null,\n                userData.nationalId || null,\n                userData.businessOwnerName || null,\n                userData.businessOwnerEmail || null,\n                userData.businessOwnerPhone || null,\n                userData.storeCountry || null,\n                userData.storeCity || null,\n                userData.storeAddress1 || null,\n                userData.storeAddress2 || null,\n                userData.postalCode || null,\n                userData.vatNumber || null,\n                JSON.stringify(userData)\n            ];\n            const result = await client.query(query, values);\n            console.log(\"‚úÖ User data saved to database:\", userData.uid);\n            return result.rows[0];\n        } catch (error) {\n            console.error(\"‚ùå Database operation failed:\", error);\n            throw new Error(`Failed to save user data: ${error.message}`);\n        } finally{\n            client.release();\n        }\n    },\n    async getUser (uid) {\n        const client = await dbPool.connect();\n        try {\n            const result = await client.query(\"SELECT * FROM users WHERE uid = $1\", [\n                uid\n            ]);\n            const user = result.rows[0] || null;\n            if (user) {\n                console.log(\"‚úÖ User data retrieved from database:\", uid);\n            } else {\n                console.log(\"‚ÑπÔ∏è No user found in database:\", uid);\n            }\n            return user;\n        } catch (error) {\n            console.error(\"‚ùå Database query failed:\", error);\n            throw new Error(`Failed to retrieve user data: ${error.message}`);\n        } finally{\n            client.release();\n        }\n    },\n    async getUserByEmail (email) {\n        const client = await dbPool.connect();\n        try {\n            const result = await client.query(\"SELECT * FROM users WHERE email = $1\", [\n                email\n            ]);\n            return result.rows[0] || null;\n        } catch (error) {\n            console.error(\"‚ùå Database query failed:\", error);\n            throw new Error(`Failed to retrieve user by email: ${error.message}`);\n        } finally{\n            client.release();\n        }\n    },\n    async deleteUser (uid) {\n        const client = await dbPool.connect();\n        try {\n            const result = await client.query(\"DELETE FROM users WHERE uid = $1 RETURNING *\", [\n                uid\n            ]);\n            console.log(\"‚úÖ User deleted from database:\", uid);\n            return result.rows[0] || null;\n        } catch (error) {\n            console.error(\"‚ùå Database delete failed:\", error);\n            throw new Error(`Failed to delete user: ${error.message}`);\n        } finally{\n            client.release();\n        }\n    }\n};\n// Health check function for monitoring\nasync function healthCheck() {\n    try {\n        const connectionTest = await testDatabaseConnection(1);\n        return {\n            database: connectionTest.success ? \"healthy\" : \"unhealthy\",\n            timestamp: new Date().toISOString(),\n            message: connectionTest.message\n        };\n    } catch (error) {\n        return {\n            database: \"unhealthy\",\n            timestamp: new Date().toISOString(),\n            message: error.message\n        };\n    }\n}\n// Migration function to sync existing Firebase users with database\nconst userMigration = {\n    async syncExistingUsersWithDatabase () {\n        const client = await dbPool.connect();\n        try {\n            console.log(\"\\uD83D\\uDD04 Starting user migration to sync existing Firebase users...\");\n            // Get all users from database\n            const dbUsers = await client.query(\"SELECT uid, email, created_at FROM users\");\n            const dbUserMap = new Map(dbUsers.rows.map((user)=>[\n                    user.uid,\n                    user\n                ]));\n            console.log(`üìä Found ${dbUsers.rows.length} users in database`);\n            // For now, we'll create a placeholder function that can be called\n            // when we have access to Firebase Admin SDK or user list\n            // This is a starting point for the migration\n            return {\n                success: true,\n                message: `Database ready for migration. Found ${dbUsers.rows.length} existing users.`,\n                dbUserCount: dbUsers.rows.length\n            };\n        } catch (error) {\n            console.error(\"‚ùå Migration error:\", error);\n            throw new Error(`Migration failed: ${error.message}`);\n        } finally{\n            client.release();\n        }\n    },\n    async createUserFromFirebaseData (userData) {\n        const client = await dbPool.connect();\n        try {\n            console.log(\"\\uD83D\\uDCDD Creating user from Firebase data:\", userData.uid);\n            const query = `\r\n        INSERT INTO users (\r\n          uid, email, display_name, profile_json, updated_at\r\n        ) VALUES (\r\n          $1, $2, $3, $4, NOW()\r\n        )\r\n        ON CONFLICT (uid) DO UPDATE SET\r\n          email = EXCLUDED.email,\r\n          display_name = EXCLUDED.display_name,\r\n          profile_json = EXCLUDED.profile_json,\r\n          updated_at = NOW()\r\n        RETURNING *;\r\n      `;\n            const values = [\n                userData.uid,\n                userData.email,\n                userData.displayName || null,\n                JSON.stringify(userData)\n            ];\n            const result = await client.query(query, values);\n            console.log(\"‚úÖ User created/updated from Firebase data:\", userData.uid);\n            return result.rows[0];\n        } catch (error) {\n            console.error(\"‚ùå Error creating user from Firebase data:\", error);\n            throw new Error(`Failed to create user: ${error.message}`);\n        } finally{\n            client.release();\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUc7WUFDdEUsT0FBT2lCLE9BQU9DLElBQUksQ0FBQyxFQUFFO1FBRXZCLEVBQUUsT0FBTzdCLE9BQVk7WUFDbkJMLFFBQVFLLEtBQUssQ0FBQyw2Q0FBNkNBO1lBQzNELE1BQU0sSUFBSXBCLE1BQU0sQ0FBQyx1QkFBdUIsRUFBRW9CLE1BQU1ELE9BQU8sQ0FBQyxDQUFDO1FBQzNELFNBQVU7WUFDUlAsT0FBT2MsT0FBTztRQUNoQjtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NpbWJpLXNlbGxlci1kYXNoYm9hcmQvLi9zcmMvbGliL2RhdGFiYXNlLnRzP2MxYjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUG9vbCB9IGZyb20gJ3BnJztcclxuXHJcbmNvbnN0IERBVEFCQVNFX1VSTCA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTDtcclxuXHJcbmlmICghREFUQUJBU0VfVVJMKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdEQVRBQkFTRV9VUkwgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgcmVxdWlyZWQnKTtcclxufVxyXG5cclxuLy8gUHJvZHVjdGlvbi1yZWFkeSBjb25uZWN0aW9uIHBvb2wgd2l0aCBvcHRpbWl6ZWQgc2V0dGluZ3NcclxuZXhwb3J0IGNvbnN0IGRiUG9vbCA9IG5ldyBQb29sKHtcclxuICBjb25uZWN0aW9uU3RyaW5nOiBEQVRBQkFTRV9VUkwsXHJcbiAgbWF4OiAyMCwgLy8gQWxsb3cgbW9yZSBjb25uZWN0aW9ucyBmb3IgcHJvZHVjdGlvblxyXG4gIGlkbGVUaW1lb3V0TWlsbGlzOiAzMDAwMCxcclxuICBjb25uZWN0aW9uVGltZW91dE1pbGxpczogMTUwMDAsIC8vIEluY3JlYXNlZCB0aW1lb3V0IGZvciBOZW9uXHJcbiAgc3NsOiB7XHJcbiAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlLCAvLyBSZXF1aXJlZCBmb3IgTmVvbiBQb3N0Z3JlU1FMXHJcbiAgfSxcclxuICAvLyBOZW9uLXNwZWNpZmljIG9wdGltaXphdGlvbnNcclxuICBrZWVwQWxpdmU6IHRydWUsXHJcbiAga2VlcEFsaXZlSW5pdGlhbERlbGF5TWlsbGlzOiAwLFxyXG59KTtcclxuXHJcbi8vIFRlc3QgZGF0YWJhc2UgY29ubmVjdGlvbiB3aXRoIHJldHJ5IGxvZ2ljXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0ZXN0RGF0YWJhc2VDb25uZWN0aW9uKHJldHJpZXMgPSAzKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiB7XHJcbiAgbGV0IGNsaWVudDtcclxuICBsZXQgYXR0ZW1wdCA9IDA7XHJcblxyXG4gIHdoaWxlIChhdHRlbXB0IDwgcmV0cmllcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY2xpZW50ID0gYXdhaXQgZGJQb29sLmNvbm5lY3QoKTtcclxuICAgICAgY29uc29sZS5sb2coYOKchSBEYXRhYmFzZSBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwgKGF0dGVtcHQgJHthdHRlbXB0ICsgMX0pYCk7XHJcblxyXG4gICAgICAvLyBUZXN0IHdpdGggYSBzaW1wbGUgcXVlcnlcclxuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KCdTRUxFQ1QgMScpO1xyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIHF1ZXJ5IHRlc3QgcGFzc2VkJyk7XHJcblxyXG4gICAgICAvLyBFbnN1cmUgdXNlcnMgdGFibGUgZXhpc3RzIHdpdGggcHJvZHVjdGlvbiBzY2hlbWFcclxuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KGBcclxuICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyB1c2VycyAoXHJcbiAgICAgICAgICB1aWQgVEVYVCBQUklNQVJZIEtFWSxcclxuICAgICAgICAgIGVtYWlsIFRFWFQgVU5JUVVFIE5PVCBOVUxMLFxyXG4gICAgICAgICAgZGlzcGxheV9uYW1lIFRFWFQsXHJcbiAgICAgICAgICBzdG9yZV9uYW1lIFRFWFQsXHJcbiAgICAgICAgICBwaG9uZV9udW1iZXIgVEVYVCxcclxuICAgICAgICAgIG5hdGlvbmFsX2lkIFRFWFQsXHJcbiAgICAgICAgICBidXNpbmVzc19vd25lcl9uYW1lIFRFWFQsXHJcbiAgICAgICAgICBidXNpbmVzc19vd25lcl9lbWFpbCBURVhULFxyXG4gICAgICAgICAgYnVzaW5lc3Nfb3duZXJfcGhvbmUgVEVYVCxcclxuICAgICAgICAgIHN0b3JlX2NvdW50cnkgVEVYVCxcclxuICAgICAgICAgIHN0b3JlX2NpdHkgVEVYVCxcclxuICAgICAgICAgIHN0b3JlX2FkZHJlc3MxIFRFWFQsXHJcbiAgICAgICAgICBzdG9yZV9hZGRyZXNzMiBURVhULFxyXG4gICAgICAgICAgcG9zdGFsX2NvZGUgVEVYVCxcclxuICAgICAgICAgIHZhdF9udW1iZXIgVEVYVCxcclxuICAgICAgICAgIHByb2ZpbGVfanNvbiBKU09OQixcclxuICAgICAgICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIFdJVEggVElNRSBaT05FIERFRkFVTFQgTk9XKCksXHJcbiAgICAgICAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBXSVRIIFRJTUUgWk9ORSBERUZBVUxUIE5PVygpXHJcbiAgICAgICAgKTtcclxuICAgICAgYCk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgaW5kZXhlcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXHJcbiAgICAgIGF3YWl0IGNsaWVudC5xdWVyeShgXHJcbiAgICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X3VzZXJzX2VtYWlsIE9OIHVzZXJzKGVtYWlsKTtcclxuICAgICAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfdXNlcnNfc3RvcmVfbmFtZSBPTiB1c2VycyhzdG9yZV9uYW1lKTtcclxuICAgICAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfdXNlcnNfY3JlYXRlZF9hdCBPTiB1c2VycyhjcmVhdGVkX2F0KTtcclxuICAgICAgYCk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFVzZXJzIHRhYmxlIGFuZCBpbmRleGVzIHJlYWR5Jyk7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5JyB9O1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgYXR0ZW1wdCsrO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgRGF0YWJhc2UgY29ubmVjdGlvbiBhdHRlbXB0ICR7YXR0ZW1wdH0gZmFpbGVkOmAsIGVycm9yLm1lc3NhZ2UpO1xyXG5cclxuICAgICAgaWYgKGF0dGVtcHQgPj0gcmV0cmllcykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIG1lc3NhZ2U6IGBEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCBhZnRlciAke3JldHJpZXN9IGF0dGVtcHRzOiAke2Vycm9yLm1lc3NhZ2V9YFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFdhaXQgYmVmb3JlIHJldHJ5IChleHBvbmVudGlhbCBiYWNrb2ZmKVxyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgTWF0aC5wb3coMiwgYXR0ZW1wdCkgKiAxMDAwKSk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBpZiAoY2xpZW50KSBjbGllbnQucmVsZWFzZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcgfTtcclxufVxyXG5cclxuLy8gUHJvZHVjdGlvbi1yZWFkeSB1c2VyIG9wZXJhdGlvbnMgd2l0aCBlcnJvciBoYW5kbGluZ1xyXG5leHBvcnQgY29uc3QgdXNlck9wZXJhdGlvbnMgPSB7XHJcbiAgYXN5bmMgY3JlYXRlT3JVcGRhdGVVc2VyKHVzZXJEYXRhOiB7XHJcbiAgICB1aWQ6IHN0cmluZztcclxuICAgIGVtYWlsOiBzdHJpbmc7XHJcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZztcclxuICAgIHN0b3JlTmFtZT86IHN0cmluZztcclxuICAgIHBob25lTnVtYmVyPzogc3RyaW5nO1xyXG4gICAgbmF0aW9uYWxJZD86IHN0cmluZztcclxuICAgIGJ1c2luZXNzT3duZXJOYW1lPzogc3RyaW5nO1xyXG4gICAgYnVzaW5lc3NPd25lckVtYWlsPzogc3RyaW5nO1xyXG4gICAgYnVzaW5lc3NPd25lclBob25lPzogc3RyaW5nO1xyXG4gICAgc3RvcmVDb3VudHJ5Pzogc3RyaW5nO1xyXG4gICAgc3RvcmVDaXR5Pzogc3RyaW5nO1xyXG4gICAgc3RvcmVBZGRyZXNzMT86IHN0cmluZztcclxuICAgIHN0b3JlQWRkcmVzczI/OiBzdHJpbmc7XHJcbiAgICBwb3N0YWxDb2RlPzogc3RyaW5nO1xyXG4gICAgdmF0TnVtYmVyPzogc3RyaW5nO1xyXG4gIH0pIHtcclxuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGRiUG9vbC5jb25uZWN0KCk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBxdWVyeSA9IGBcclxuICAgICAgICBJTlNFUlQgSU5UTyB1c2VycyAoXHJcbiAgICAgICAgICB1aWQsIGVtYWlsLCBkaXNwbGF5X25hbWUsIHN0b3JlX25hbWUsIHBob25lX251bWJlciwgbmF0aW9uYWxfaWQsXHJcbiAgICAgICAgICBidXNpbmVzc19vd25lcl9uYW1lLCBidXNpbmVzc19vd25lcl9lbWFpbCwgYnVzaW5lc3Nfb3duZXJfcGhvbmUsXHJcbiAgICAgICAgICBzdG9yZV9jb3VudHJ5LCBzdG9yZV9jaXR5LCBzdG9yZV9hZGRyZXNzMSwgc3RvcmVfYWRkcmVzczIsXHJcbiAgICAgICAgICBwb3N0YWxfY29kZSwgdmF0X251bWJlciwgcHJvZmlsZV9qc29uLCB1cGRhdGVkX2F0XHJcbiAgICAgICAgKSBWQUxVRVMgKFxyXG4gICAgICAgICAgJDEsICQyLCAkMywgJDQsICQ1LCAkNiwgJDcsICQ4LCAkOSwgJDEwLCAkMTEsICQxMiwgJDEzLCAkMTQsICQxNSwgJDE2LCBOT1coKVxyXG4gICAgICAgIClcclxuICAgICAgICBPTiBDT05GTElDVCAodWlkKSBETyBVUERBVEUgU0VUXHJcbiAgICAgICAgICBlbWFpbCA9IEVYQ0xVREVELmVtYWlsLFxyXG4gICAgICAgICAgZGlzcGxheV9uYW1lID0gRVhDTFVERUQuZGlzcGxheV9uYW1lLFxyXG4gICAgICAgICAgc3RvcmVfbmFtZSA9IEVYQ0xVREVELnN0b3JlX25hbWUsXHJcbiAgICAgICAgICBwaG9uZV9udW1iZXIgPSBFWENMVURFRC5waG9uZV9udW1iZXIsXHJcbiAgICAgICAgICBuYXRpb25hbF9pZCA9IEVYQ0xVREVELm5hdGlvbmFsX2lkLFxyXG4gICAgICAgICAgYnVzaW5lc3Nfb3duZXJfbmFtZSA9IEVYQ0xVREVELmJ1c2luZXNzX293bmVyX25hbWUsXHJcbiAgICAgICAgICBidXNpbmVzc19vd25lcl9lbWFpbCA9IEVYQ0xVREVELmJ1c2luZXNzX293bmVyX2VtYWlsLFxyXG4gICAgICAgICAgYnVzaW5lc3Nfb3duZXJfcGhvbmUgPSBFWENMVURFRC5idXNpbmVzc19vd25lcl9waG9uZSxcclxuICAgICAgICAgIHN0b3JlX2NvdW50cnkgPSBFWENMVURFRC5zdG9yZV9jb3VudHJ5LFxyXG4gICAgICAgICAgc3RvcmVfY2l0eSA9IEVYQ0xVREVELnN0b3JlX2NpdHksXHJcbiAgICAgICAgICBzdG9yZV9hZGRyZXNzMSA9IEVYQ0xVREVELnN0b3JlX2FkZHJlc3MxLFxyXG4gICAgICAgICAgc3RvcmVfYWRkcmVzczIgPSBFWENMVURFRC5zdG9yZV9hZGRyZXNzMixcclxuICAgICAgICAgIHBvc3RhbF9jb2RlID0gRVhDTFVERUQucG9zdGFsX2NvZGUsXHJcbiAgICAgICAgICB2YXRfbnVtYmVyID0gRVhDTFVERUQudmF0X251bWJlcixcclxuICAgICAgICAgIHByb2ZpbGVfanNvbiA9IEVYQ0xVREVELnByb2ZpbGVfanNvbixcclxuICAgICAgICAgIHVwZGF0ZWRfYXQgPSBOT1coKVxyXG4gICAgICAgIFJFVFVSTklORyAqO1xyXG4gICAgICBgO1xyXG5cclxuICAgICAgY29uc3QgdmFsdWVzID0gW1xyXG4gICAgICAgIHVzZXJEYXRhLnVpZCxcclxuICAgICAgICB1c2VyRGF0YS5lbWFpbCxcclxuICAgICAgICB1c2VyRGF0YS5kaXNwbGF5TmFtZSB8fCBudWxsLFxyXG4gICAgICAgIHVzZXJEYXRhLnN0b3JlTmFtZSB8fCBudWxsLFxyXG4gICAgICAgIHVzZXJEYXRhLnBob25lTnVtYmVyIHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEubmF0aW9uYWxJZCB8fCBudWxsLFxyXG4gICAgICAgIHVzZXJEYXRhLmJ1c2luZXNzT3duZXJOYW1lIHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEuYnVzaW5lc3NPd25lckVtYWlsIHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEuYnVzaW5lc3NPd25lclBob25lIHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEuc3RvcmVDb3VudHJ5IHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEuc3RvcmVDaXR5IHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEuc3RvcmVBZGRyZXNzMSB8fCBudWxsLFxyXG4gICAgICAgIHVzZXJEYXRhLnN0b3JlQWRkcmVzczIgfHwgbnVsbCxcclxuICAgICAgICB1c2VyRGF0YS5wb3N0YWxDb2RlIHx8IG51bGwsXHJcbiAgICAgICAgdXNlckRhdGEudmF0TnVtYmVyIHx8IG51bGwsXHJcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkocXVlcnksIHZhbHVlcyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgVXNlciBkYXRhIHNhdmVkIHRvIGRhdGFiYXNlOicsIHVzZXJEYXRhLnVpZCk7XHJcbiAgICAgIHJldHVybiByZXN1bHQucm93c1swXTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBEYXRhYmFzZSBvcGVyYXRpb24gZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2F2ZSB1c2VyIGRhdGE6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGNsaWVudC5yZWxlYXNlKCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgYXN5bmMgZ2V0VXNlcih1aWQ6IHN0cmluZykge1xyXG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgZGJQb29sLmNvbm5lY3QoKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5xdWVyeSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1aWQgPSAkMScsIFt1aWRdKTtcclxuICAgICAgY29uc3QgdXNlciA9IHJlc3VsdC5yb3dzWzBdIHx8IG51bGw7XHJcblxyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgVXNlciBkYXRhIHJldHJpZXZlZCBmcm9tIGRhdGFiYXNlOicsIHVpZCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KEue+4jyBObyB1c2VyIGZvdW5kIGluIGRhdGFiYXNlOicsIHVpZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRGF0YWJhc2UgcXVlcnkgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcmV0cmlldmUgdXNlciBkYXRhOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBjbGllbnQucmVsZWFzZSgpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGFzeW5jIGdldFVzZXJCeUVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IGRiUG9vbC5jb25uZWN0KCk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQucXVlcnkoJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSAkMScsIFtlbWFpbF0pO1xyXG4gICAgICByZXR1cm4gcmVzdWx0LnJvd3NbMF0gfHwgbnVsbDtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIERhdGFiYXNlIHF1ZXJ5IGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHJldHJpZXZlIHVzZXIgYnkgZW1haWw6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGNsaWVudC5yZWxlYXNlKCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgYXN5bmMgZGVsZXRlVXNlcih1aWQ6IHN0cmluZykge1xyXG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgZGJQb29sLmNvbm5lY3QoKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5xdWVyeSgnREVMRVRFIEZST00gdXNlcnMgV0hFUkUgdWlkID0gJDEgUkVUVVJOSU5HIConLCBbdWlkXSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgVXNlciBkZWxldGVkIGZyb20gZGF0YWJhc2U6JywgdWlkKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5yb3dzWzBdIHx8IG51bGw7XHJcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBEYXRhYmFzZSBkZWxldGUgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIHVzZXI6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGNsaWVudC5yZWxlYXNlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gSGVhbHRoIGNoZWNrIGZ1bmN0aW9uIGZvciBtb25pdG9yaW5nXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoZWFsdGhDaGVjaygpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY29ubmVjdGlvblRlc3QgPSBhd2FpdCB0ZXN0RGF0YWJhc2VDb25uZWN0aW9uKDEpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YWJhc2U6IGNvbm5lY3Rpb25UZXN0LnN1Y2Nlc3MgPyAnaGVhbHRoeScgOiAndW5oZWFsdGh5JyxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIG1lc3NhZ2U6IGNvbm5lY3Rpb25UZXN0Lm1lc3NhZ2VcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YWJhc2U6ICd1bmhlYWx0aHknLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbi8vIE1pZ3JhdGlvbiBmdW5jdGlvbiB0byBzeW5jIGV4aXN0aW5nIEZpcmViYXNlIHVzZXJzIHdpdGggZGF0YWJhc2VcclxuZXhwb3J0IGNvbnN0IHVzZXJNaWdyYXRpb24gPSB7XHJcbiAgYXN5bmMgc3luY0V4aXN0aW5nVXNlcnNXaXRoRGF0YWJhc2UoKSB7XHJcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBkYlBvb2wuY29ubmVjdCgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflIQgU3RhcnRpbmcgdXNlciBtaWdyYXRpb24gdG8gc3luYyBleGlzdGluZyBGaXJlYmFzZSB1c2Vycy4uLicpO1xyXG5cclxuICAgICAgLy8gR2V0IGFsbCB1c2VycyBmcm9tIGRhdGFiYXNlXHJcbiAgICAgIGNvbnN0IGRiVXNlcnMgPSBhd2FpdCBjbGllbnQucXVlcnkoJ1NFTEVDVCB1aWQsIGVtYWlsLCBjcmVhdGVkX2F0IEZST00gdXNlcnMnKTtcclxuICAgICAgY29uc3QgZGJVc2VyTWFwID0gbmV3IE1hcChkYlVzZXJzLnJvd3MubWFwKHVzZXIgPT4gW3VzZXIudWlkLCB1c2VyXSkpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coYPCfk4ogRm91bmQgJHtkYlVzZXJzLnJvd3MubGVuZ3RofSB1c2VycyBpbiBkYXRhYmFzZWApO1xyXG5cclxuICAgICAgLy8gRm9yIG5vdywgd2UnbGwgY3JlYXRlIGEgcGxhY2Vob2xkZXIgZnVuY3Rpb24gdGhhdCBjYW4gYmUgY2FsbGVkXHJcbiAgICAgIC8vIHdoZW4gd2UgaGF2ZSBhY2Nlc3MgdG8gRmlyZWJhc2UgQWRtaW4gU0RLIG9yIHVzZXIgbGlzdFxyXG4gICAgICAvLyBUaGlzIGlzIGEgc3RhcnRpbmcgcG9pbnQgZm9yIHRoZSBtaWdyYXRpb25cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBtZXNzYWdlOiBgRGF0YWJhc2UgcmVhZHkgZm9yIG1pZ3JhdGlvbi4gRm91bmQgJHtkYlVzZXJzLnJvd3MubGVuZ3RofSBleGlzdGluZyB1c2Vycy5gLFxyXG4gICAgICAgIGRiVXNlckNvdW50OiBkYlVzZXJzLnJvd3MubGVuZ3RoXHJcbiAgICAgIH07XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgTWlncmF0aW9uIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaWdyYXRpb24gZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBjbGllbnQucmVsZWFzZSgpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGFzeW5jIGNyZWF0ZVVzZXJGcm9tRmlyZWJhc2VEYXRhKHVzZXJEYXRhOiB7XHJcbiAgICB1aWQ6IHN0cmluZztcclxuICAgIGVtYWlsOiBzdHJpbmc7XHJcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZztcclxuICB9KSB7XHJcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBkYlBvb2wuY29ubmVjdCgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk50gQ3JlYXRpbmcgdXNlciBmcm9tIEZpcmViYXNlIGRhdGE6JywgdXNlckRhdGEudWlkKTtcclxuXHJcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gYFxyXG4gICAgICAgIElOU0VSVCBJTlRPIHVzZXJzIChcclxuICAgICAgICAgIHVpZCwgZW1haWwsIGRpc3BsYXlfbmFtZSwgcHJvZmlsZV9qc29uLCB1cGRhdGVkX2F0XHJcbiAgICAgICAgKSBWQUxVRVMgKFxyXG4gICAgICAgICAgJDEsICQyLCAkMywgJDQsIE5PVygpXHJcbiAgICAgICAgKVxyXG4gICAgICAgIE9OIENPTkZMSUNUICh1aWQpIERPIFVQREFURSBTRVRcclxuICAgICAgICAgIGVtYWlsID0gRVhDTFVERUQuZW1haWwsXHJcbiAgICAgICAgICBkaXNwbGF5X25hbWUgPSBFWENMVURFRC5kaXNwbGF5X25hbWUsXHJcbiAgICAgICAgICBwcm9maWxlX2pzb24gPSBFWENMVURFRC5wcm9maWxlX2pzb24sXHJcbiAgICAgICAgICB1cGRhdGVkX2F0ID0gTk9XKClcclxuICAgICAgICBSRVRVUk5JTkcgKjtcclxuICAgICAgYDtcclxuXHJcbiAgICAgIGNvbnN0IHZhbHVlcyA9IFtcclxuICAgICAgICB1c2VyRGF0YS51aWQsXHJcbiAgICAgICAgdXNlckRhdGEuZW1haWwsXHJcbiAgICAgICAgdXNlckRhdGEuZGlzcGxheU5hbWUgfHwgbnVsbCxcclxuICAgICAgICBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSlcclxuICAgICAgXTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5xdWVyeShxdWVyeSwgdmFsdWVzKTtcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBVc2VyIGNyZWF0ZWQvdXBkYXRlZCBmcm9tIEZpcmViYXNlIGRhdGE6JywgdXNlckRhdGEudWlkKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdC5yb3dzWzBdO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNyZWF0aW5nIHVzZXIgZnJvbSBGaXJlYmFzZSBkYXRhOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIHVzZXI6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGNsaWVudC5yZWxlYXNlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59OyJdLCJuYW1lcyI6WyJQb29sIiwiREFUQUJBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiZGJQb29sIiwiY29ubmVjdGlvblN0cmluZyIsIm1heCIsImlkbGVUaW1lb3V0TWlsbGlzIiwiY29ubmVjdGlvblRpbWVvdXRNaWxsaXMiLCJzc2wiLCJyZWplY3RVbmF1dGhvcml6ZWQiLCJrZWVwQWxpdmUiLCJrZWVwQWxpdmVJbml0aWFsRGVsYXlNaWxsaXMiLCJ0ZXN0RGF0YWJhc2VDb25uZWN0aW9uIiwicmV0cmllcyIsImNsaWVudCIsImF0dGVtcHQiLCJjb25uZWN0IiwiY29uc29sZSIsImxvZyIsInF1ZXJ5Iiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJlcnJvciIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIk1hdGgiLCJwb3ciLCJyZWxlYXNlIiwidXNlck9wZXJhdGlvbnMiLCJjcmVhdGVPclVwZGF0ZVVzZXIiLCJ1c2VyRGF0YSIsInZhbHVlcyIsInVpZCIsImVtYWlsIiwiZGlzcGxheU5hbWUiLCJzdG9yZU5hbWUiLCJwaG9uZU51bWJlciIsIm5hdGlvbmFsSWQiLCJidXNpbmVzc093bmVyTmFtZSIsImJ1c2luZXNzT3duZXJFbWFpbCIsImJ1c2luZXNzT3duZXJQaG9uZSIsInN0b3JlQ291bnRyeSIsInN0b3JlQ2l0eSIsInN0b3JlQWRkcmVzczEiLCJzdG9yZUFkZHJlc3MyIiwicG9zdGFsQ29kZSIsInZhdE51bWJlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXN1bHQiLCJyb3dzIiwiZ2V0VXNlciIsInVzZXIiLCJnZXRVc2VyQnlFbWFpbCIsImRlbGV0ZVVzZXIiLCJoZWFsdGhDaGVjayIsImNvbm5lY3Rpb25UZXN0IiwiZGF0YWJhc2UiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1c2VyTWlncmF0aW9uIiwic3luY0V4aXN0aW5nVXNlcnNXaXRoRGF0YWJhc2UiLCJkYlVzZXJzIiwiZGJVc2VyTWFwIiwiTWFwIiwibWFwIiwibGVuZ3RoIiwiZGJVc2VyQ291bnQiLCJjcmVhdGVVc2VyRnJvbUZpcmViYXNlRGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Froute&page=%2Fapi%2Fusers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Froute.ts&appDir=C%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cuser%5COneDrive%5CDesktop%5CSimbi-Seller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();